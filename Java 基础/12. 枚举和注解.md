## 01ã€æšä¸¾ç±»çš„ä½¿ç”¨

## 1.1ã€æšä¸¾ç±»çš„ç†è§£

* ç±»çš„å¯¹è±¡åªæœ‰æœ‰é™ä¸ªï¼Œç¡®å®šçš„ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š

  * æ˜ŸæœŸï¼šMonday(æ˜ŸæœŸä¸€)ã€â€¦ã€Sunday(æ˜ŸæœŸå¤©)
  * æ€§åˆ«ï¼šMan(ç”·)ã€Woman(å¥³)
  * å­£èŠ‚ï¼šSpring(æ˜¥èŠ‚)â€¦Winter(å†¬å¤©)
  * æ”¯ä»˜æ–¹å¼ï¼šCashï¼ˆç°é‡‘ï¼‰ã€WeChatPayï¼ˆå¾®ä¿¡ï¼‰ã€Alipay(æ”¯ä»˜å®)ã€BankCard(é“¶è¡Œå¡)ã€CreditCard(ä¿¡ç”¨å¡)
  * å°±èŒçŠ¶æ€ï¼šBusyã€Freeã€Vocationã€Dimission
  * è®¢å•çŠ¶æ€ï¼šNonpaymentï¼ˆæœªä»˜æ¬¾ï¼‰ã€Paidï¼ˆå·²ä»˜æ¬¾ï¼‰ã€Deliveredï¼ˆå·²å‘è´§ï¼‰ã€Returnï¼ˆé€€è´§ï¼‰ã€Checkedï¼ˆå·²ç¡®è®¤ï¼‰Fulfilledï¼ˆå·²é…è´§ï¼‰ã€
  * çº¿ç¨‹çŠ¶æ€ï¼šåˆ›å»ºã€å°±ç»ªã€è¿è¡Œã€é˜»å¡ã€æ­»äº¡
* å½“éœ€è¦å®šä¹‰ä¸€ç»„å¸¸é‡æ—¶ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨æšä¸¾ç±»
* æšä¸¾ç±»çš„å®ç°

  * JDK1.5ä¹‹å‰éœ€è¦è‡ªå®šä¹‰æšä¸¾ç±»
  * JDK 1.5 æ–°å¢çš„enum å…³é”®å­—ç”¨äºå®šä¹‰æšä¸¾ç±»
* è‹¥æšä¸¾åªæœ‰ä¸€ä¸ªå¯¹è±¡, åˆ™å¯ä»¥ä½œä¸ºä¸€ç§å•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼ã€‚

## 1.2ã€è‡ªå®šä¹‰æšä¸¾ç±»

> æšä¸¾ç±»çš„å±æ€§
>

* æšä¸¾ç±»å¯¹è±¡çš„å±æ€§ä¸åº”å…è®¸è¢«æ”¹åŠ¨, æ‰€ä»¥åº”è¯¥ä½¿ç”¨`private final`ä¿®é¥°
* æšä¸¾ç±»çš„ä½¿ç”¨`private final` ä¿®é¥°çš„å±æ€§åº”è¯¥åœ¨æ„é€ å™¨ä¸­ä¸ºå…¶èµ‹å€¼
* è‹¥æšä¸¾ç±»æ˜¾å¼çš„å®šä¹‰äº†å¸¦å‚æ•°çš„æ„é€ å™¨, åˆ™åœ¨åˆ—å‡ºæšä¸¾å€¼æ—¶ä¹Ÿå¿…é¡»å¯¹åº”çš„ä¼ å…¥å‚æ•°

```java
/**
 * ä¸€ã€æšä¸¾ç±»çš„ä½¿ç”¨
 * 1.æšä¸¾ç±»çš„ç†è§£ï¼šç±»çš„å¯¹è±¡åªæœ‰æœ‰é™ä¸ªï¼Œç¡®å®šçš„ã€‚æˆ‘ä»¬ç§°æ­¤ç±»ä¸ºæšä¸¾ç±»ã€‚
 * 2.å½“éœ€è¦å®šä¹‰ä¸€ç»„å¸¸é‡æ—¶ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨æšä¸¾ç±»
 * 3.è‹¥æšä¸¾åªæœ‰ä¸€ä¸ªå¯¹è±¡, åˆ™å¯ä»¥ä½œä¸ºä¸€ç§å•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼ã€‚
 *
 * äºŒã€å¦‚ä½•å®šä¹‰æšä¸¾ç±»
 *     æ–¹å¼ä¸€ï¼šJDK1.5ä¹‹å‰éœ€è¦è‡ªå®šä¹‰æšä¸¾ç±»
 *     æ–¹å¼äºŒï¼šJDK 1.5 æ–°å¢çš„enum å…³é”®å­—ç”¨äºå®šä¹‰æšä¸¾ç±»
 *
 */
public class SeasonTest { 
    public static void main(String[] args) { 
        Season spring = Season.SPRING;
        System.out.println(spring);
    }
}
//è‡ªå®šä¹‰æšä¸¾ç±»
class Season{ 
    //1.å£°æ˜Seasonå¯¹è±¡çš„å±æ€§:private finalä¿®é¥°
    private final String seasonName;
    private final String seasonDesc;

    //2.ç§æœ‰åŒ–ç±»çš„æ„é€ å™¨,å¹¶ç»™å¯¹è±¡å±æ€§èµ‹å€¼
    private Season(String seasonName,String seasonDesc){ 
        this.seasonName = seasonName;
        this.seasonDesc = seasonDesc;
    }

    //3.æä¾›å½“å‰æšä¸¾ç±»çš„å¤šä¸ªå¯¹è±¡
    public static final Season SPRING = new Season("æ˜¥å¤©","ä¸‡ç‰©å¤è‹");
    public static final Season SUMMER = new Season("å¤å¤©","çƒˆæ—¥ç‚ç‚");
    public static final Season AUTUMN = new Season("ç§‹å¤©","é‡‘ç§‹é€çˆ½");
    public static final Season WINTER = new Season("å†¬å¤©","ç™½é›ªçš‘çš‘");

    //4.å…¶ä»–è¯‰æ±‚ï¼šè·å–æšä¸¾ç±»å¯¹è±¡çš„å±æ€§
    public String getSeasonName() { 
        return seasonName;
    }

    public String getSeasonDesc() { 
        return seasonDesc;
    }

    //4.å…¶ä»–è¯‰æ±‚1ï¼šæä¾›toString()
    @Override
    public String toString() { 
        return "Season{" +
                "seasonName='" + seasonName + '\'' +
                ", seasonDesc='" + seasonDesc + '\'' +
                '}';
    }
}
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253
```

## 1.3ã€ä½¿ç”¨[enum](https://so.csdn.net/so/search?q=enum&spm=1001.2101.3001.7020)å…³é”®å­—å®šä¹‰æšä¸¾ç±»

> ä½¿ç”¨è¯´æ˜
>

* ä½¿ç”¨enumå®šä¹‰çš„æšä¸¾ç±»é»˜è®¤ç»§æ‰¿äº†java.lang.Enumç±»ï¼Œå› æ­¤ä¸èƒ½å†ç»§æ‰¿å…¶ä»–ç±»
* æšä¸¾ç±»çš„æ„é€ å™¨åªèƒ½ä½¿ç”¨private æƒé™ä¿®é¥°ç¬¦
* æšä¸¾ç±»çš„æ‰€æœ‰å®ä¾‹å¿…é¡»åœ¨æšä¸¾ç±»ä¸­æ˜¾å¼åˆ—å‡º(, åˆ†éš”; ç»“å°¾)ã€‚åˆ—å‡ºçš„å®ä¾‹ç³»ç»Ÿä¼šè‡ªåŠ¨æ·»åŠ public static final ä¿®é¥°
* å¿…é¡»åœ¨æšä¸¾ç±»çš„ç¬¬ä¸€è¡Œå£°æ˜æšä¸¾ç±»å¯¹è±¡

> JDK 1.5 ä¸­å¯ä»¥åœ¨switch è¡¨è¾¾å¼ä¸­ä½¿ç”¨Enumå®šä¹‰çš„æšä¸¾ç±»çš„å¯¹è±¡ä½œä¸ºè¡¨è¾¾å¼, case å­å¥å¯ä»¥ç›´æ¥ä½¿ç”¨æšä¸¾å€¼çš„åå­—, æ— éœ€æ·»åŠ æšä¸¾ç±»ä½œä¸ºé™å®šã€‚
>

```java
/**
 * ä½¿ç”¨enumå…³é”®å­—å®šä¹‰æšä¸¾ç±»
 * è¯´æ˜ï¼šå®šä¹‰çš„æšä¸¾ç±»é»˜è®¤ç»§æ‰¿äºjava.lang.Enumç±»
 */
public class SeasonTest1 { 
    public static void main(String[] args) { 
        Season1 summer = Season1.SUMMER;
        //toString():
        System.out.println(summer.toString());
      
        System.out.println(Season1.class.getSuperclass());
    }
}

//ä½¿ç”¨enumå…³é”®å­—æšä¸¾ç±»
enum Season1{ 
    //1.æä¾›å½“å‰æšä¸¾ç±»çš„å¯¹è±¡ï¼Œå¤šä¸ªå¯¹è±¡ä¹‹é—´ç”¨","éš”å¼€ï¼Œæœ«å°¾å¯¹è±¡";"ç»“æŸ
    SPRING("æ˜¥å¤©","ä¸‡ç‰©å¤è‹"),
    SUMMER("å¤å¤©","çƒˆæ—¥ç‚ç‚"),
    AUTUMN("ç§‹å¤©","é‡‘ç§‹é€çˆ½"),
    WINTER("å†¬å¤©","ç™½é›ªçš‘çš‘");

    //2.å£°æ˜Seasonå¯¹è±¡çš„å±æ€§:private finalä¿®é¥°
    private final String seasonName;
    private final String seasonDesc;

    //3.ç§æœ‰åŒ–ç±»çš„æ„é€ å™¨,å¹¶ç»™å¯¹è±¡å±æ€§èµ‹å€¼
    private Season1(String seasonName,String seasonDesc){ 
        this.seasonName = seasonName;
        this.seasonDesc = seasonDesc;
    }

    //4.å…¶ä»–è¯‰æ±‚ï¼šè·å–æšä¸¾ç±»å¯¹è±¡çš„å±æ€§
    public String getSeasonName() { 
        return seasonName;
    }

    public String getSeasonDesc() { 
        return seasonDesc;
    }

    //4.å…¶ä»–è¯‰æ±‚1ï¼šæä¾›toString()
//    @Override
//    public String toString() { 
//        return "Season{" +
//                "seasonName='" + seasonName + '\'' +
//                ", seasonDesc='" + seasonDesc + '\'' +
//                '}';
//    }
}
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950
```

## 1.4ã€Enumç±»ä¸­çš„å¸¸ç”¨æ–¹æ³•

![](assets/c8159e5419e4c0375de1312dc227d2c0-20220603152810-7a1z4ic.png)

> Enumç±»çš„ä¸»è¦æ–¹æ³•ï¼š
>

* `values()`æ–¹æ³•ï¼šè¿”å›æšä¸¾ç±»å‹çš„å¯¹è±¡æ•°ç»„ã€‚è¯¥æ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°éå†æ‰€æœ‰çš„æšä¸¾å€¼ã€‚
* `valueOf(String str)`ï¼šå¯ä»¥æŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬ä¸ºå¯¹åº”çš„æšä¸¾ç±»å¯¹è±¡ã€‚è¦æ±‚å­—ç¬¦ä¸²å¿…é¡»æ˜¯æšä¸¾ç±»å¯¹è±¡çš„â€œåå­—â€ã€‚å¦‚ä¸æ˜¯ï¼Œä¼šæœ‰è¿è¡Œæ—¶å¼‚å¸¸ï¼šIllegalArgumentExceptionã€‚
* `toString()`ï¼šè¿”å›å½“å‰æšä¸¾ç±»å¯¹è±¡å¸¸é‡çš„åç§°

```java
/**
 * ä½¿ç”¨enumå…³é”®å­—å®šä¹‰æšä¸¾ç±»
 * è¯´æ˜ï¼šå®šä¹‰çš„æšä¸¾ç±»é»˜è®¤ç»§æ‰¿äºjava.lang.Enumç±»
 *
 * ä¸‰ã€Enumç±»çš„å¸¸ç”¨æ–¹æ³•
 *      values()æ–¹æ³•ï¼šè¿”å›æšä¸¾ç±»å‹çš„å¯¹è±¡æ•°ç»„ã€‚è¯¥æ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°éå†æ‰€æœ‰çš„æšä¸¾å€¼ã€‚
 *      valueOf(String str)ï¼šå¯ä»¥æŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬ä¸ºå¯¹åº”çš„æšä¸¾ç±»å¯¹è±¡ã€‚è¦æ±‚å­—ç¬¦ä¸²å¿…é¡»æ˜¯æšä¸¾ç±»å¯¹è±¡çš„â€œåå­—â€ã€‚å¦‚ä¸æ˜¯ï¼Œä¼šæœ‰è¿è¡Œæ—¶å¼‚å¸¸ï¼šIllegalArgumentExceptionã€‚
 *      toString()ï¼šè¿”å›å½“å‰æšä¸¾ç±»å¯¹è±¡å¸¸é‡çš„åç§°
 */
public class SeasonTest1 { 
    public static void main(String[] args) { 
        Season1 summer = Season1.SUMMER;
        //toString():
        System.out.println(summer.toString());

//        System.out.println(Season1.class.getSuperclass());
        System.out.println("**************************");
        //values():è¿”å›æ‰€æœ‰çš„æšä¸¾ç±»å¯¹è±¡æ„æˆçš„æ•°ç»„
        Season1[] values = Season1.values();
        for(int i = 0;i < values.length;i++){ 
            System.out.println(values[i]);
        }
        System.out.println("****************************");
        Thread.State[] values1 = Thread.State.values();
        for(int i = 0;i < values1.length;i++){ 
            System.out.println(values1[i]);
        }

        //valueOf(String objName):è¿”å›æšä¸¾ç±»ä¸­å¯¹è±¡åæ˜¯objNameçš„å¯¹è±¡ã€‚
        Season1 winter = Season1.valueOf("WINTER");
        //å¦‚æœæ²¡æœ‰objNameçš„æšä¸¾ç±»å¯¹è±¡ï¼Œåˆ™æŠ›å¼‚å¸¸ï¼šIllegalArgumentException
//        Season1 winter = Season1.valueOf("WINTER1");
        System.out.println(winter);

    }
}

//ä½¿ç”¨enumå…³é”®å­—æšä¸¾ç±»
enum Season1{ 
    //1.æä¾›å½“å‰æšä¸¾ç±»çš„å¯¹è±¡ï¼Œå¤šä¸ªå¯¹è±¡ä¹‹é—´ç”¨","éš”å¼€ï¼Œæœ«å°¾å¯¹è±¡";"ç»“æŸ
    SPRING("æ˜¥å¤©","ä¸‡ç‰©å¤è‹"),
    SUMMER("å¤å¤©","çƒˆæ—¥ç‚ç‚"),
    AUTUMN("ç§‹å¤©","é‡‘ç§‹é€çˆ½"),
    WINTER("å†¬å¤©","ç™½é›ªçš‘çš‘");

    //2.å£°æ˜Seasonå¯¹è±¡çš„å±æ€§:private finalä¿®é¥°
    private final String seasonName;
    private final String seasonDesc;

    //3.ç§æœ‰åŒ–ç±»çš„æ„é€ å™¨,å¹¶ç»™å¯¹è±¡å±æ€§èµ‹å€¼
    private Season1(String seasonName,String seasonDesc){ 
        this.seasonName = seasonName;
        this.seasonDesc = seasonDesc;
    }

    //4.å…¶ä»–è¯‰æ±‚ï¼šè·å–æšä¸¾ç±»å¯¹è±¡çš„å±æ€§
    public String getSeasonName() { 
        return seasonName;
    }

    public String getSeasonDesc() { 
        return seasonDesc;
    }

    //4.å…¶ä»–è¯‰æ±‚1ï¼šæä¾›toString()
//    @Override
//    public String toString() { 
//        return "Season{" +
//                "seasonName='" + seasonName + '\'' +
//                ", seasonDesc='" + seasonDesc + '\'' +
//                '}';
//    }
}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273
```

## 1.5ã€ä½¿ç”¨enumå…³é”®å­—å®šä¹‰çš„æšä¸¾ç±»å®ç°æ¥å£

```java
/**
 * ä½¿ç”¨enumå…³é”®å­—å®šä¹‰æšä¸¾ç±»
 * è¯´æ˜ï¼šå®šä¹‰çš„æšä¸¾ç±»é»˜è®¤ç»§æ‰¿äºjava.lang.Enumç±»
 *
 * å››ã€ä½¿ç”¨enumå…³é”®å­—å®šä¹‰çš„æšä¸¾ç±»å®ç°æ¥å£çš„æƒ…å†µ
 *   æƒ…å†µä¸€ï¼šå®ç°æ¥å£ï¼Œåœ¨enumç±»ä¸­å®ç°æŠ½è±¡æ–¹æ³•
 *   æƒ…å†µäºŒï¼šè®©æšä¸¾ç±»çš„å¯¹è±¡åˆ†åˆ«å®ç°æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•
 */
public class SeasonTest1 { 
    public static void main(String[] args) { 
        //values():è¿”å›æ‰€æœ‰çš„æšä¸¾ç±»å¯¹è±¡æ„æˆçš„æ•°ç»„
        Season1[] values = Season1.values();
        for(int i = 0;i < values.length;i++){ 
            System.out.println(values[i]);
            values[i].show();
        }

        //valueOf(String objName):è¿”å›æšä¸¾ç±»ä¸­å¯¹è±¡åæ˜¯objNameçš„å¯¹è±¡ã€‚
        Season1 winter = Season1.valueOf("WINTER");
        winter.show();
    }
}

interface Info{ 
    void show();
}

//ä½¿ç”¨enumå…³é”®å­—æšä¸¾ç±»
enum Season1 implements Info{ 
    //1.æä¾›å½“å‰æšä¸¾ç±»çš„å¯¹è±¡ï¼Œå¤šä¸ªå¯¹è±¡ä¹‹é—´ç”¨","éš”å¼€ï¼Œæœ«å°¾å¯¹è±¡";"ç»“æŸ
    SPRING("æ˜¥å¤©","æ˜¥æš–èŠ±å¼€"){ 
        @Override
        public void show() { 
            System.out.println("ä¸€å…ƒå¤å§‹ã€ä¸‡ç‰©å¤è‹");
        }
    },
    SUMMER("å¤å¤©","å¤æ—¥ç‚ç‚"){ 
        @Override
        public void show() { 
            System.out.println("è‰å£°é˜µé˜µã€çƒˆæ—¥å½“ç©º");
        }
    },
    AUTUMN("ç§‹å¤©","ç§‹é«˜æ°”çˆ½"){ 
        @Override
        public void show() { 
            System.out.println("å¤©é«˜æ°”æ¸…ã€é‡‘æ¡‚é£˜é¦™");
        }
    },
    WINTER("å†¬å¤©","å†°å¤©é›ªåœ°"){ 
        @Override
        public void show() { 
            System.out.println("å¯’å†¬è…Šæœˆã€æ»´æ°´æˆå†°");
        }
    };

    //2.å£°æ˜Seasonå¯¹è±¡çš„å±æ€§:private finalä¿®é¥°
    private final String seasonName;
    private final String seasonDesc;

    //3.ç§æœ‰åŒ–ç±»çš„æ„é€ å™¨,å¹¶ç»™å¯¹è±¡å±æ€§èµ‹å€¼
    private Season1(String seasonName,String seasonDesc){ 
        this.seasonName = seasonName;
        this.seasonDesc = seasonDesc;
    }

    //4.å…¶ä»–è¯‰æ±‚ï¼šè·å–æšä¸¾ç±»å¯¹è±¡çš„å±æ€§
    public String getSeasonName() { 
        return seasonName;
    }

    public String getSeasonDesc() { 
        return seasonDesc;
    }

    //4.å…¶ä»–è¯‰æ±‚1ï¼šæä¾›toString()
//    @Override
//    public String toString() { 
//        return "Season{" +
//                "seasonName='" + seasonName + '\'' +
//                ", seasonDesc='" + seasonDesc + '\'' +
//                '}';
//    }

//    @Override
//    public void show() { 
//        System.out.println("è¿™æ˜¯ä¸€ä¸ªå­£èŠ‚ã€‚");
//    }
}

1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889
```

## 02ã€æ³¨è§£çš„ä½¿ç”¨

## 2.1ã€æ³¨è§£çš„ç†è§£

* ä»JDK 5.0 å¼€å§‹, Java å¢åŠ äº†å¯¹å…ƒæ•°æ®(MetaData) çš„æ”¯æŒ, ä¹Ÿå°±æ˜¯Annotation(æ³¨è§£)
* Annotation å…¶å®å°±æ˜¯ä»£ç é‡Œçš„ **ç‰¹æ®Šæ ‡è®°** , è¿™äº›æ ‡è®°å¯ä»¥åœ¨ç¼–è¯‘, ç±»åŠ è½½, è¿è¡Œæ—¶è¢«è¯»å–, å¹¶æ‰§è¡Œç›¸åº”çš„å¤„ç†ã€‚é€šè¿‡ä½¿ç”¨Annotation, ç¨‹åºå‘˜å¯ä»¥åœ¨ä¸æ”¹å˜åŸæœ‰é€»è¾‘çš„æƒ…å†µä¸‹, åœ¨æºæ–‡ä»¶ä¸­åµŒå…¥ä¸€äº›è¡¥å……ä¿¡æ¯ã€‚ä»£ç åˆ†æå·¥å…·ã€å¼€å‘å·¥å…·å’Œéƒ¨ç½²å·¥å…·å¯ä»¥é€šè¿‡è¿™äº›è¡¥å……ä¿¡æ¯è¿›è¡ŒéªŒè¯æˆ–è€…è¿›è¡Œéƒ¨ç½²ã€‚
* Annotation å¯ä»¥åƒä¿®é¥°ç¬¦ä¸€æ ·è¢«ä½¿ç”¨, å¯ç”¨äº **ä¿®é¥°åŒ…,ç±», æ„é€ å™¨, æ–¹æ³•, æˆå‘˜å˜é‡, å‚æ•°, å±€éƒ¨å˜é‡çš„å£°æ˜** , è¿™äº›ä¿¡æ¯è¢«ä¿å­˜åœ¨Annotation çš„â€œname=valueâ€ å¯¹ä¸­ã€‚
* åœ¨JavaSEä¸­ï¼Œæ³¨è§£çš„ä½¿ç”¨ç›®çš„æ¯”è¾ƒç®€å•ï¼Œä¾‹å¦‚æ ‡è®°è¿‡æ—¶çš„åŠŸèƒ½ï¼Œå¿½ç•¥è­¦å‘Šç­‰ã€‚åœ¨JavaEE/Androidä¸­æ³¨è§£å æ®äº†æ›´é‡è¦çš„è§’è‰²ï¼Œä¾‹å¦‚ç”¨æ¥é…ç½®åº”ç”¨ç¨‹åºçš„ä»»ä½•åˆ‡é¢ï¼Œä»£æ›¿JavaEEæ—§ç‰ˆä¸­æ‰€é—ç•™çš„ç¹å†—ä»£ç å’ŒXMLé…ç½®ç­‰ã€‚
* æœªæ¥çš„å¼€å‘æ¨¡å¼éƒ½æ˜¯åŸºäºæ³¨è§£çš„ï¼ŒJPAæ˜¯åŸºäºæ³¨è§£çš„ï¼ŒSpring2.5ä»¥ä¸Šéƒ½æ˜¯åŸºäºæ³¨è§£çš„ï¼ŒHibernate3.xä»¥åä¹Ÿæ˜¯åŸºäºæ³¨è§£çš„ï¼Œç°åœ¨çš„Struts2æœ‰ä¸€éƒ¨åˆ†ä¹Ÿæ˜¯åŸºäºæ³¨è§£çš„äº†ï¼Œæ³¨è§£æ˜¯ä¸€ç§è¶‹åŠ¿ï¼Œä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥è¯´ï¼š **æ¡†æ¶= æ³¨è§£+ åå°„+ è®¾è®¡æ¨¡å¼** ã€‚

## 2.2ã€Annotationçš„ä½¿ç”¨ç¤ºä¾‹

* ä½¿ç”¨Annotation æ—¶è¦åœ¨å…¶å‰é¢å¢åŠ @ ç¬¦å·,  **å¹¶æŠŠè¯¥Annotation å½“æˆä¸€ä¸ªä¿®é¥°ç¬¦ä½¿ç”¨** ã€‚ç”¨äºä¿®é¥°å®ƒæ”¯æŒçš„ç¨‹åºå…ƒç´ 
* ç¤ºä¾‹ä¸€ï¼šç”Ÿæˆæ–‡æ¡£ç›¸å…³çš„æ³¨è§£

  * @authoræ ‡æ˜å¼€å‘è¯¥ç±»æ¨¡å—çš„ä½œè€…ï¼Œå¤šä¸ªä½œè€…ä¹‹é—´ä½¿ç”¨,åˆ†å‰²
  * @versionæ ‡æ˜è¯¥ç±»æ¨¡å—çš„ç‰ˆæœ¬
  * @seeå‚è€ƒè½¬å‘ï¼Œä¹Ÿå°±æ˜¯ç›¸å…³ä¸»é¢˜
  * @sinceä»å“ªä¸ªç‰ˆæœ¬å¼€å§‹å¢åŠ çš„
  * @paramå¯¹æ–¹æ³•ä¸­æŸå‚æ•°çš„è¯´æ˜ï¼Œå¦‚æœæ²¡æœ‰å‚æ•°å°±ä¸èƒ½å†™
  * @returnå¯¹æ–¹æ³•è¿”å›å€¼çš„è¯´æ˜ï¼Œå¦‚æœæ–¹æ³•çš„è¿”å›å€¼ç±»å‹æ˜¯voidå°±ä¸èƒ½å†™
  * @exceptionå¯¹æ–¹æ³•å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸è¿›è¡Œè¯´æ˜ï¼Œå¦‚æœæ–¹æ³•æ²¡æœ‰ç”¨throwsæ˜¾å¼æŠ›å‡ºçš„å¼‚å¸¸å°±ä¸èƒ½å†™å…¶ä¸­

    * @param@returnå’Œ@exceptionè¿™ä¸‰ä¸ªæ ‡è®°éƒ½æ˜¯åªç”¨äºæ–¹æ³•çš„ã€‚
    * @paramçš„æ ¼å¼è¦æ±‚ï¼š@paramå½¢å‚åå½¢å‚ç±»å‹å½¢å‚è¯´æ˜
    * @returnçš„æ ¼å¼è¦æ±‚ï¼š@returnè¿”å›å€¼ç±»å‹è¿”å›å€¼è¯´æ˜
    * @exceptionçš„æ ¼å¼è¦æ±‚ï¼š@exceptionå¼‚å¸¸ç±»å‹å¼‚å¸¸è¯´æ˜
    * @paramå’Œ@exceptionå¯ä»¥å¹¶åˆ—å¤šä¸ª
* ç¤ºä¾‹äºŒï¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ ¼å¼æ£€æŸ¥(JDKå†…ç½®çš„ä¸‰ä¸ªåŸºæœ¬æ³¨è§£)

  * @Override: é™å®šé‡å†™çˆ¶ç±»æ–¹æ³•, è¯¥æ³¨è§£åªèƒ½ç”¨äºæ–¹æ³•
  * @Deprecated: ç”¨äºè¡¨ç¤ºæ‰€ä¿®é¥°çš„å…ƒç´ (ç±», æ–¹æ³•ç­‰)å·²è¿‡æ—¶ã€‚é€šå¸¸æ˜¯å› ä¸ºæ‰€ä¿®é¥°çš„ç»“æ„å±é™©æˆ–å­˜åœ¨æ›´å¥½çš„é€‰æ‹©
  * @SuppressWarnings: æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Š
* ç¤ºä¾‹ä¸‰ï¼šè·Ÿè¸ªä»£ç ä¾èµ–æ€§ï¼Œå®ç°æ›¿ä»£é…ç½®æ–‡ä»¶åŠŸèƒ½

  * Servlet3.0æä¾›äº†æ³¨è§£(annotation),ä½¿å¾—ä¸å†éœ€è¦åœ¨web.xmlæ–‡ä»¶ä¸­è¿›è¡ŒServletçš„éƒ¨ç½²ã€‚
  * springæ¡†æ¶ä¸­å…³äºâ€œäº‹åŠ¡â€çš„ç®¡ç†

```java
import java.util.ArrayList;
import java.util.Date;

/**
 * æ³¨è§£çš„ä½¿ç”¨
 *
 * 1. ç†è§£Annotation:
 * â‘  jdk 5.0 æ–°å¢çš„åŠŸèƒ½
 *
 * â‘¡ Annotation å…¶å®å°±æ˜¯ä»£ç é‡Œçš„ç‰¹æ®Šæ ‡è®°, è¿™äº›æ ‡è®°å¯ä»¥åœ¨ç¼–è¯‘, ç±»åŠ è½½, è¿è¡Œæ—¶è¢«è¯»å–, å¹¶æ‰§è¡Œç›¸åº”çš„å¤„ç†ã€‚é€šè¿‡ä½¿ç”¨ Annotation,
 *    ç¨‹åºå‘˜å¯ä»¥åœ¨ä¸æ”¹å˜åŸæœ‰é€»è¾‘çš„æƒ…å†µä¸‹, åœ¨æºæ–‡ä»¶ä¸­åµŒå…¥ä¸€äº›è¡¥å……ä¿¡æ¯ã€‚
 *
 * â‘¢åœ¨JavaSEä¸­ï¼Œæ³¨è§£çš„ä½¿ç”¨ç›®çš„æ¯”è¾ƒç®€å•ï¼Œä¾‹å¦‚æ ‡è®°è¿‡æ—¶çš„åŠŸèƒ½ï¼Œå¿½ç•¥è­¦å‘Šç­‰ã€‚åœ¨JavaEE/Android
 *  ä¸­æ³¨è§£å æ®äº†æ›´é‡è¦çš„è§’è‰²ï¼Œä¾‹å¦‚ç”¨æ¥é…ç½®åº”ç”¨ç¨‹åºçš„ä»»ä½•åˆ‡é¢ï¼Œä»£æ›¿JavaEEæ—§ç‰ˆä¸­æ‰€é—ç•™çš„ç¹å†—
 *  ä»£ç å’ŒXMLé…ç½®ç­‰ã€‚
 *
 * 2. Annocationçš„ä½¿ç”¨ç¤ºä¾‹
 *  ç¤ºä¾‹ä¸€ï¼šç”Ÿæˆæ–‡æ¡£ç›¸å…³çš„æ³¨è§£
 *  ç¤ºä¾‹äºŒï¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ ¼å¼æ£€æŸ¥(JDKå†…ç½®çš„ä¸‰ä¸ªåŸºæœ¬æ³¨è§£)
 *      @Override: é™å®šé‡å†™çˆ¶ç±»æ–¹æ³•, è¯¥æ³¨è§£åªèƒ½ç”¨äºæ–¹æ³•
 *      @Deprecated: ç”¨äºè¡¨ç¤ºæ‰€ä¿®é¥°çš„å…ƒç´ (ç±», æ–¹æ³•ç­‰)å·²è¿‡æ—¶ã€‚é€šå¸¸æ˜¯å› ä¸ºæ‰€ä¿®é¥°çš„ç»“æ„å±é™©æˆ–å­˜åœ¨æ›´å¥½çš„é€‰æ‹©
 *      @SuppressWarnings: æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Š
 *
 *  ç¤ºä¾‹ä¸‰ï¼šè·Ÿè¸ªä»£ç ä¾èµ–æ€§ï¼Œå®ç°æ›¿ä»£é…ç½®æ–‡ä»¶åŠŸèƒ½
 */
public class AnnotationTest { 
    public static void main(String[] args) { 
        Person p = new Student();
        p.walk();

        Date date = new Date(2020, 10, 11);
        System.out.println(date);

        @SuppressWarnings("unused")
        int num = 10;

//        System.out.println(num);

        @SuppressWarnings({  "unused", "rawtypes" })
        ArrayList list = new ArrayList();
    }
}

class Person{ 
    private String name;
    private int age;

    public Person() { 
        super();
    }

    public Person(String name, int age) { 
        this.name = name;
        this.age = age;
    }
    public void walk(){ 
        System.out.println("å­¦ä¹ ä¸­â€¦â€¦");
    }
    public void eat(){ 
        System.out.println("æ‘¸é±¼ä¸­â€¦â€¦");
    }
}

interface Info{ 
    void show();
}

class Student extends Person implements Info{ 

    @Override
    public void walk() { 
        System.out.println("å–·å­èµ°å¼€");
    }

    @Override
    public void show() { 

    }
}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879
```

## 2.3ã€å¦‚ä½•è‡ªå®šä¹‰æ³¨è§£

* å®šä¹‰æ–°çš„`Annotationç±»`å‹ä½¿ç”¨**`@interface`**å…³é”®å­—
* è‡ªå®šä¹‰æ³¨è§£è‡ªåŠ¨ç»§æ‰¿äº†**`java.lang.annotation.Annotation`**æ¥å£
* `Annotation`çš„æˆå‘˜å˜é‡åœ¨`Annotation`å®šä¹‰ä¸­ä»¥æ— å‚æ•°æ–¹æ³•çš„å½¢å¼æ¥å£°æ˜ã€‚å…¶æ–¹æ³•åå’Œè¿”å›å€¼å®šä¹‰äº†è¯¥æˆå‘˜çš„åå­—å’Œç±»å‹ã€‚æˆ‘ä»¬ç§°ä¸ºé…ç½®å‚æ•°ã€‚ç±»å‹åªèƒ½æ˜¯å…«ç§åŸºæœ¬æ•°æ®ç±»å‹ã€ **Stringç±»å‹ã€Classç±»å‹ã€enumç±»å‹ã€Annotationç±»å‹ã€ä»¥ä¸Šæ‰€æœ‰ç±»å‹çš„æ•°ç»„** ã€‚
* å¯ä»¥åœ¨å®šä¹‰`Annotation`çš„æˆå‘˜å˜é‡æ—¶ä¸ºå…¶æŒ‡å®šåˆå§‹å€¼,æŒ‡å®šæˆå‘˜å˜é‡çš„åˆå§‹å€¼å¯ä½¿ç”¨**`default`**å…³é”®å­—
* å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜ï¼Œå»ºè®®ä½¿ç”¨**å‚æ•°åä¸º`value`**
* å¦‚æœå®šä¹‰çš„æ³¨è§£å«æœ‰é…ç½®å‚æ•°ï¼Œé‚£ä¹ˆä½¿ç”¨æ—¶å¿…é¡»æŒ‡å®šå‚æ•°å€¼ï¼Œé™¤éå®ƒæœ‰é»˜è®¤å€¼ã€‚æ ¼å¼æ˜¯â€œå‚æ•°å=å‚æ•°å€¼â€ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜ï¼Œä¸”åç§°ä¸º`value`ï¼Œå¯ä»¥çœç•¥â€œ`value=`â€
* æ²¡æœ‰æˆå‘˜å®šä¹‰çš„`Annotation`ç§°ä¸ºæ ‡è®°;åŒ…å«æˆå‘˜å˜é‡çš„`Annotation`ç§°ä¸ºå…ƒæ•°æ®`Annotation`
* æ³¨æ„ï¼š **è‡ªå®šä¹‰æ³¨è§£å¿…é¡»é…ä¸Šæ³¨è§£çš„ä¿¡æ¯å¤„ç†æµç¨‹æ‰æœ‰æ„ä¹‰** ã€‚

```java
public @interface MyAnnotation { 

    String value();
}
/**
 * æ³¨è§£çš„ä½¿ç”¨
 *
 *  3.å¦‚ä½•è‡ªå®šä¹‰æ³¨è§£ï¼šå‚ç…§@SuppressWarningså®šä¹‰
 *      â‘  æ³¨è§£å£°æ˜ä¸ºï¼š@interface
 *      â‘¡ å†…éƒ¨å®šä¹‰æˆå‘˜ï¼Œé€šå¸¸ä½¿ç”¨valueè¡¨ç¤º
 *      â‘¢ å¯ä»¥æŒ‡å®šæˆå‘˜çš„é»˜è®¤å€¼ï¼Œä½¿ç”¨defaultå®šä¹‰
 *      â‘£ å¦‚æœè‡ªå®šä¹‰æ³¨è§£æ²¡æœ‰æˆå‘˜ï¼Œè¡¨æ˜æ˜¯ä¸€ä¸ªæ ‡è¯†ä½œç”¨ã€‚
 *
 *      å¦‚æœæ³¨è§£æœ‰æˆå‘˜ï¼Œåœ¨ä½¿ç”¨æ³¨è§£æ—¶ï¼Œéœ€è¦æŒ‡æ˜æˆå‘˜çš„å€¼ã€‚
 *      è‡ªå®šä¹‰æ³¨è§£å¿…é¡»é…ä¸Šæ³¨è§£çš„ä¿¡æ¯å¤„ç†æµç¨‹(ä½¿ç”¨åå°„)æ‰æœ‰æ„ä¹‰ã€‚
 *      è‡ªå®šä¹‰æ³¨è§£é€šè¿‡éƒ½ä¼šæŒ‡æ˜ä¸¤ä¸ªå…ƒæ³¨è§£ï¼šRetentionã€Target
 *
 */

@MyAnnotation(value = "hello")
1234567891011121314151617181920
```

## 2.4ã€jdkä¸­4ä¸ªåŸºæœ¬çš„[å…ƒæ³¨è§£](https://so.csdn.net/so/search?q=%E5%85%83%E6%B3%A8%E8%A7%A3&spm=1001.2101.3001.7020)çš„ä½¿ç”¨1

* JDK çš„å…ƒ`Annotation` ç”¨äºä¿®é¥°å…¶ä»–`Annotation` å®šä¹‰
* JDK5.0æä¾›äº†4ä¸ªæ ‡å‡†çš„`meta-annotation`ç±»å‹ï¼Œåˆ†åˆ«æ˜¯ï¼š

  * `Retention`
  * `Target`
  * `Documented`
  * `Inherited`

  > å…ƒæ•°æ®çš„ç†è§£ï¼š`String name = â€œMyBlogâ€`;
  >
* `@Retention`: åªèƒ½ç”¨äºä¿®é¥°ä¸€ä¸ª`Annotation`å®šä¹‰, ç”¨äºæŒ‡å®šè¯¥`Annotation` çš„ç”Ÿå‘½å‘¨æœŸ, `@Rentention`åŒ…å«ä¸€ä¸ª`RetentionPolicy`ç±»å‹çš„æˆå‘˜å˜é‡, ä½¿ç”¨`@Rentention`æ—¶å¿…é¡»ä¸ºè¯¥`value` æˆå‘˜å˜é‡æŒ‡å®šå€¼:

  * `RetentionPolicy.SOURCE`:åœ¨æºæ–‡ä»¶ä¸­æœ‰æ•ˆï¼ˆå³æºæ–‡ä»¶ä¿ç•™ï¼‰ï¼Œç¼–è¯‘å™¨ç›´æ¥ä¸¢å¼ƒè¿™ç§ç­–ç•¥çš„æ³¨é‡Š
  * `RetentionPolicy.CLASS`:åœ¨classæ–‡ä»¶ä¸­æœ‰æ•ˆï¼ˆå³classä¿ç•™ï¼‰ï¼Œå½“è¿è¡ŒJava ç¨‹åºæ—¶, JVM ä¸ä¼šä¿ç•™æ³¨è§£ã€‚è¿™æ˜¯é»˜è®¤å€¼
  * `RetentionPolicy.RUNTIME`:åœ¨è¿è¡Œæ—¶æœ‰æ•ˆï¼ˆå³è¿è¡Œæ—¶ä¿ç•™ï¼‰ï¼Œå½“è¿è¡ŒJava ç¨‹åºæ—¶, JVM ä¼šä¿ç•™æ³¨é‡Šã€‚ç¨‹åºå¯ä»¥é€šè¿‡åå°„è·å–è¯¥æ³¨é‡Šã€‚

![](assets/655f60ccb2126424b1b8f7f2cf4c4cde-20220603152810-idyhnid.png)

```java
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;

@Retention(RetentionPolicy.SOURCE)
public @interface MyAnnotation { 

    String value();

}
/**
 * æ³¨è§£çš„ä½¿ç”¨
 *
 *   4.jdk æä¾›çš„4ç§å…ƒæ³¨è§£
 *     å…ƒæ³¨è§£ï¼šå¯¹ç°æœ‰çš„æ³¨è§£è¿›è¡Œè§£é‡Šè¯´æ˜çš„æ³¨è§£
 *     Retention:æŒ‡å®šæ‰€ä¿®é¥°çš„ Annotation çš„ç”Ÿå‘½å‘¨æœŸï¼šSOURCE\CLASSï¼ˆé»˜è®¤è¡Œä¸ºï¼‰\RUNTIME
 *               åªæœ‰å£°æ˜ä¸ºRUNTIMEç”Ÿå‘½å‘¨æœŸçš„æ³¨è§£ï¼Œæ‰èƒ½é€šè¿‡åå°„è·å–ã€‚
 *     Target:
 *     Documented:
 *     Inherited:
 *
 */
public class AnnotationTest { 
    public static void main(String[] args) { 

    }
}

@MyAnnotation(value = "hello")
class Person{ 
    private String name;
    private int age;

    public Person() { 
        super();
    }

    @MyAnnotation(value = "jack")
    public Person(String name, int age) { 
        this.name = name;
        this.age = age;
    }
  
    public void walk(){ 
        System.out.println("å­¦ä¹ ä¸­â€¦â€¦");
    }
    public void eat(){ 
        System.out.println("æ‘¸é±¼ä¸­â€¦â€¦");
    }
}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849
```

## 2.5ã€jdkä¸­4ä¸ªåŸºæœ¬çš„å…ƒæ³¨è§£çš„ä½¿ç”¨2

* `@Target`: ç”¨äºä¿®é¥°Annotation å®šä¹‰, ç”¨äºæŒ‡å®šè¢«ä¿®é¥°çš„Annotation èƒ½ç”¨äºä¿®é¥°å“ªäº›ç¨‹åºå…ƒç´ ã€‚@Target ä¹ŸåŒ…å«ä¸€ä¸ªåä¸ºvalue çš„æˆå‘˜å˜é‡ã€‚

![](assets/55f870273e1957635488dbcab66a299d-20220603152810-9xton7g.png)

* `@Documented`: ç”¨äºæŒ‡å®šè¢«è¯¥å…ƒAnnotation ä¿®é¥°çš„Annotation ç±»å°†è¢«javadocå·¥å…·æå–æˆæ–‡æ¡£ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œjavadocæ˜¯ä¸åŒ…æ‹¬æ³¨è§£çš„ã€‚

  * å®šä¹‰ä¸ºDocumentedçš„æ³¨è§£å¿…é¡»è®¾ç½®Retentionå€¼ä¸ºRUNTIMEã€‚
* `@Inherited`: è¢«å®ƒä¿®é¥°çš„Annotation å°†å…·æœ‰ç»§æ‰¿æ€§ã€‚å¦‚æœæŸä¸ªç±»ä½¿ç”¨äº†è¢«@Inherited ä¿®é¥°çš„Annotation, åˆ™å…¶å­ç±»å°†è‡ªåŠ¨å…·æœ‰è¯¥æ³¨è§£ã€‚

  * æ¯”å¦‚ï¼šå¦‚æœæŠŠæ ‡æœ‰@Inheritedæ³¨è§£çš„è‡ªå®šä¹‰çš„æ³¨è§£æ ‡æ³¨åœ¨ç±»çº§åˆ«ä¸Šï¼Œå­ç±»åˆ™å¯ä»¥ç»§æ‰¿çˆ¶ç±»ç±»çº§åˆ«çš„æ³¨è§£
  * å®é™…åº”ç”¨ä¸­ï¼Œä½¿ç”¨è¾ƒå°‘

```java
import org.junit.Test;

import java.lang.annotation.Annotation;
import java.util.ArrayList;
import java.util.Date;

/**
 * æ³¨è§£çš„ä½¿ç”¨
 *
 *   4.jdk æä¾›çš„4ç§å…ƒæ³¨è§£
 *     å…ƒæ³¨è§£ï¼šå¯¹ç°æœ‰çš„æ³¨è§£è¿›è¡Œè§£é‡Šè¯´æ˜çš„æ³¨è§£
 *     Retention:æŒ‡å®šæ‰€ä¿®é¥°çš„ Annotation çš„ç”Ÿå‘½å‘¨æœŸï¼šSOURCE\CLASSï¼ˆé»˜è®¤è¡Œä¸ºï¼‰\RUNTIME
 *               åªæœ‰å£°æ˜ä¸ºRUNTIMEç”Ÿå‘½å‘¨æœŸçš„æ³¨è§£ï¼Œæ‰èƒ½é€šè¿‡åå°„è·å–ã€‚
 *     Target:ç”¨äºæŒ‡å®šè¢«ä¿®é¥°çš„ Annotation èƒ½ç”¨äºä¿®é¥°å“ªäº›ç¨‹åºå…ƒç´ 
 *     *******å‡ºç°çš„é¢‘ç‡è¾ƒä½*******
 *     Documented:è¡¨ç¤ºæ‰€ä¿®é¥°çš„æ³¨è§£åœ¨è¢«javadocè§£ææ—¶ï¼Œä¿ç•™ä¸‹æ¥ã€‚
 *     Inherited:è¢«å®ƒä¿®é¥°çš„ Annotation å°†å…·æœ‰ç»§æ‰¿æ€§ã€‚
 *   
 * 5.é€šè¿‡åå°„è·å–æ³¨è§£ä¿¡æ¯ ---åˆ°åå°„å†…å®¹æ—¶ç³»ç»Ÿè®²è§£
 */
public class AnnotationTest { 
    public static void main(String[] args) { 

    }

    @Test
    public void testGetAnnotation(){ 
        Class clazz = Student.class;
        Annotation[] annotations = clazz.getAnnotations();
        for(int i = 0;i < annotations.length;i++){ 
            System.out.println(annotations[i]);
        }
    }
}

@MyAnnotation(value = "hello")
class Person{ 
    private String name;
    private int age;

    public Person() { 
        super();
    }

    @MyAnnotation
    public Person(String name, int age) { 
        this.name = name;
        this.age = age;
    }

    @MyAnnotation
    public void walk(){ 
        System.out.println("å­¦ä¹ ä¸­â€¦â€¦");
    }
    public void eat(){ 
        System.out.println("æ‘¸é±¼ä¸­â€¦â€¦");
    }
}



@Inherited
@Retention(RetentionPolicy.RUNTIME)
@Target({ TYPE, FIELD, METHOD, PARAMETER, CONSTRUCTOR, LOCAL_VARIABLE,TYPE_PARAMETER,TYPE_USE})
public @interface MyAnnotation { 
    String value() default "book";
}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667
```

## 2.6ã€åˆ©ç”¨åå°„è·å–æ³¨è§£ä¿¡æ¯

* JDK 5.0 åœ¨`java.lang.reflect`åŒ…ä¸‹æ–°å¢äº†`AnnotatedElement`æ¥å£, è¯¥æ¥å£ä»£è¡¨ç¨‹åºä¸­å¯ä»¥æ¥å—æ³¨è§£çš„ç¨‹åºå…ƒç´ 
* å½“ä¸€ä¸ª`Annotation` ç±»å‹è¢«å®šä¹‰ä¸ºè¿è¡Œæ—¶`Annotation` å, è¯¥æ³¨è§£æ‰æ˜¯è¿è¡Œæ—¶å¯è§, å½“`class`æ–‡ä»¶è¢«è½½å…¥æ—¶ä¿å­˜åœ¨`class` æ–‡ä»¶ä¸­çš„`Annotation` æ‰ä¼šè¢«è™šæ‹Ÿæœºè¯»å–
* ç¨‹åºå¯ä»¥è°ƒç”¨`AnnotatedElement`å¯¹è±¡çš„å¦‚ä¸‹æ–¹æ³•æ¥è®¿é—®`Annotation` ä¿¡æ¯

![](assets/bb4244ff4c021141be68e5435779912d-20220603152810-0il8fn1.png)

## 2.7ã€jdk8æ–°ç‰¹æ€§ï¼šå¯[é‡å¤æ³¨è§£](https://so.csdn.net/so/search?q=%E9%87%8D%E5%A4%8D%E6%B3%A8%E8%A7%A3&spm=1001.2101.3001.7020)

Java 8å¯¹æ³¨è§£å¤„ç†æä¾›äº†ä¸¤ç‚¹æ”¹è¿›ï¼šå¯é‡å¤çš„æ³¨è§£åŠå¯ç”¨äºç±»å‹çš„æ³¨è§£ã€‚æ­¤å¤–ï¼Œåå°„ä¹Ÿå¾—åˆ°äº†åŠ å¼ºï¼Œåœ¨Java8ä¸­èƒ½å¤Ÿå¾—åˆ°æ–¹æ³•å‚æ•°çš„åç§°ã€‚è¿™ä¼šç®€åŒ–æ ‡æ³¨åœ¨æ–¹æ³•å‚æ•°ä¸Šçš„æ³¨è§£ã€‚

> å¯é‡å¤æ³¨è§£ç¤ºä¾‹ï¼š
>

```java
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

import static java.lang.annotation.ElementType.*;

@Retention(RetentionPolicy.RUNTIME)
@Target({ TYPE, FIELD, METHOD, PARAMETER, CONSTRUCTOR, LOCAL_VARIABLE})
public @interface MyAnnotations { 

    MyAnnotation[] value();
}
123456789101112
```

```java
import java.lang.annotation.*;
import static java.lang.annotation.ElementType.*;

@Repeatable(MyAnnotations.class)
@Retention(RetentionPolicy.RUNTIME)
@Target({ TYPE, FIELD, METHOD, PARAMETER, CONSTRUCTOR, LOCAL_VARIABLE,TYPE_PARAMETER,TYPE_USE})
public @interface MyAnnotation { 

    String value() default "hello";

}
1234567891011
```

```java
import java.lang.annotation.Annotation;

/**
 * æ³¨è§£çš„ä½¿ç”¨
 *
 * 6.jdk 8 ä¸­æ³¨è§£çš„æ–°ç‰¹æ€§ï¼šå¯é‡å¤æ³¨è§£ã€ç±»å‹æ³¨è§£
 *
 *   6.1å¯é‡å¤æ³¨è§£ï¼šâ‘  åœ¨MyAnnotationä¸Šå£°æ˜@Repeatableï¼Œæˆå‘˜å€¼ä¸ºMyAnnotations.class
 *                â‘¡ MyAnnotationçš„Targetå’ŒRetentionç­‰å…ƒæ³¨è§£ä¸MyAnnotationsç›¸åŒã€‚
 *
 *
 * @author subei
 * @create 2020-05-11 11:19
 */
public class AnnotationTest { 
    public static void main(String[] args) { 
    }
}

@MyAnnotation(value = "hi")
@MyAnnotation(value = "abc")
//jdk 8ä¹‹å‰çš„å†™æ³•ï¼š
//@MyAnnotations({@MyAnnotation(value="hi"),@MyAnnotation(value="hi")})
1234567891011121314151617181920212223
```

## 2.8ã€jdk8æ–°ç‰¹æ€§ï¼šç±»å‹æ³¨è§£

* JDK1.8ä¹‹åï¼Œå…³äºå…ƒæ³¨è§£`@Target`çš„å‚æ•°ç±»å‹`ElementType`æšä¸¾å€¼å¤šäº†ä¸¤ä¸ªï¼š`TYPE_PARAMETER,TYPE_USE`ã€‚
* åœ¨Java8ä¹‹å‰ï¼Œæ³¨è§£åªèƒ½æ˜¯åœ¨å£°æ˜çš„åœ°æ–¹æ‰€ä½¿ç”¨ï¼ŒJava8å¼€å§‹ï¼Œæ³¨è§£å¯ä»¥åº”ç”¨åœ¨ä»»ä½•åœ°æ–¹ã€‚

  * `ElementType.TYPE_PARAMETER`è¡¨ç¤ºè¯¥æ³¨è§£èƒ½å†™åœ¨ç±»å‹å˜é‡çš„å£°æ˜è¯­å¥ä¸­ï¼ˆå¦‚ï¼šæ³›å‹å£°æ˜ï¼‰ã€‚
  * `ElementType.TYPE_USE`è¡¨ç¤ºè¯¥æ³¨è§£èƒ½å†™åœ¨ä½¿ç”¨ç±»å‹çš„ä»»ä½•è¯­å¥ä¸­ã€‚

```java
import java.util.ArrayList;

/**
 * æ³¨è§£çš„ä½¿ç”¨
 *
 * 6.jdk 8 ä¸­æ³¨è§£çš„æ–°ç‰¹æ€§ï¼šå¯é‡å¤æ³¨è§£ã€ç±»å‹æ³¨è§£
 *
 *   6.1å¯é‡å¤æ³¨è§£ï¼šâ‘  åœ¨MyAnnotationä¸Šå£°æ˜@Repeatableï¼Œæˆå‘˜å€¼ä¸ºMyAnnotations.class
 *                â‘¡ MyAnnotationçš„Targetå’ŒRetentionç­‰å…ƒæ³¨è§£ä¸MyAnnotationsç›¸åŒã€‚
 *
 *   6.2ç±»å‹æ³¨è§£ï¼š
 *      ElementType.TYPE_PARAMETER è¡¨ç¤ºè¯¥æ³¨è§£èƒ½å†™åœ¨ç±»å‹å˜é‡çš„å£°æ˜è¯­å¥ä¸­ï¼ˆå¦‚ï¼šæ³›å‹å£°æ˜ï¼‰ã€‚
 *      ElementType.TYPE_USE è¡¨ç¤ºè¯¥æ³¨è§£èƒ½å†™åœ¨ä½¿ç”¨ç±»å‹çš„ä»»ä½•è¯­å¥ä¸­ã€‚
 *
 */
public class AnnotationTest { 
 
}


class Generic<@MyAnnotation T>{ 

    public void show() throws @MyAnnotation RuntimeException{ 

        ArrayList<@MyAnnotation String> list = new ArrayList<>();

        int num = (@MyAnnotation int) 10L;
    }

}
123456789101112131415161718192021222324252627282930
```

> MyAnnotation
>

```java
import java.lang.annotation.*;

import static java.lang.annotation.ElementType.*;

@Retention(RetentionPolicy.RUNTIME)
@Target({ TYPE, FIELD, METHOD, PARAMETER, CONSTRUCTOR, LOCAL_VARIABLE,TYPE_PARAMETER,TYPE_USE})
public @interface MyAnnotation { 

    String value() default "hello";

}
1234567891011
```

> ä½œè€…åšç¬”è®°ä¸å®¹æ˜“ï¼Œè¯·è¯„ä¸ªåˆ†å§ï¼
>

* 1ã€å¦‚æœè§‰å¾—æ–‡ç« å†™è¡Œä¸é”™å°±ç‚¹ä¸ª  **èµ** ã€‚âœŒ
* 2ã€å¦‚æœè§‰å¾—å†™å¾—å¥½å°±  **ä¸€é”®ä¸‰è¿** ï¼âœŒâœŒâœŒ
* 3ã€å¦‚æœæ–‡ç« å¯¹ä½ å¾ˆæœ‰å¸®åŠ©ï¼Œè¯·  **æ‰“èµ** ã€‚ ğŸ’ƒğŸ’ƒğŸ’ƒğŸ’ƒğŸ’ƒ
