## 01ã€ä¸ºä»€ä¹ˆè¦æœ‰æ³›å‹

æ³›å‹ï¼šæ ‡ç­¾

## 1.1ã€ä¸¾ä¾‹

* ä¸­è¯åº—ï¼Œæ¯ä¸ªæŠ½å±‰å¤–é¢è´´ç€æ ‡ç­¾
* è¶…å¸‚è´­ç‰©æ¶ä¸Šå¾ˆå¤šç“¶å­ï¼Œæ¯ä¸ªç“¶å­è£…çš„æ˜¯ä»€ä¹ˆï¼Œæœ‰æ ‡ç­¾ã€‚

## 1.2ã€æ³›å‹çš„è®¾è®¡èƒŒæ™¯

**é›†åˆ** å®¹å™¨ç±»åœ¨è®¾è®¡é˜¶æ®µ/å£°æ˜é˜¶æ®µä¸èƒ½ç¡®å®šè¿™ä¸ªå®¹å™¨åˆ°åº•å®é™…å­˜çš„æ˜¯ä»€ä¹ˆç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥ **åœ¨JDK1.5ä¹‹å‰åªèƒ½æŠŠå…ƒç´ ç±»å‹è®¾è®¡ä¸ºObjectï¼ŒJDK1.5ä¹‹åä½¿ç”¨æ³›å‹æ¥è§£å†³** ã€‚å› ä¸ºè¿™ä¸ªæ—¶å€™é™¤äº†å…ƒç´ çš„ç±»å‹ä¸ç¡®å®šï¼Œå…¶ä»–çš„éƒ¨åˆ†æ˜¯ç¡®å®šçš„ï¼Œä¾‹å¦‚å…³äºè¿™ä¸ªå…ƒç´ å¦‚ä½•ä¿å­˜ï¼Œå¦‚ä½•ç®¡ç†ç­‰æ˜¯ç¡®å®šçš„ï¼Œå› æ­¤æ­¤æ—¶ **æŠŠå…ƒç´ çš„ç±»å‹è®¾è®¡æˆä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªç±»å‹å‚æ•°å«åšæ³›å‹** ã€‚Collectionï¼ŒListï¼ŒArrayListè¿™ä¸ªå°±æ˜¯ç±»å‹å‚æ•°ï¼Œå³æ³›å‹ã€‚

## 1.3ã€å…¶ä»–è¯´æ˜

* æ‰€è°“æ³›å‹ï¼Œå°±æ˜¯å…è®¸åœ¨å®šä¹‰ç±»ã€æ¥å£æ—¶é€šè¿‡ä¸€ä¸ªæ ‡è¯†è¡¨ç¤ºç±»ä¸­æŸä¸ªå±æ€§çš„ç±»å‹æˆ–è€…æ˜¯æŸä¸ªæ–¹æ³•çš„è¿”å›å€¼åŠå‚æ•°ç±»å‹ã€‚è¿™ä¸ªç±»å‹å‚æ•°å°†åœ¨ä½¿ç”¨æ—¶ï¼ˆä¾‹å¦‚ï¼Œç»§æ‰¿æˆ–å®ç°è¿™ä¸ªæ¥å£ï¼Œç”¨è¿™ä¸ªç±»å‹å£°æ˜å˜é‡ã€åˆ›å»ºå¯¹è±¡æ—¶ï¼‰ç¡®å®šï¼ˆå³ä¼ å…¥å®é™…çš„ç±»å‹å‚æ•°ï¼Œä¹Ÿç§°ä¸ºç±»å‹å®å‚ï¼‰ã€‚
* ä»JDK1.5ä»¥åï¼ŒJavaå¼•å…¥äº†â€œå‚æ•°åŒ–ç±»å‹ï¼ˆParameterizedtypeï¼‰â€çš„æ¦‚å¿µï¼Œå…è®¸æˆ‘ä»¬åœ¨åˆ›å»ºé›†åˆæ—¶å†æŒ‡å®šé›†åˆå…ƒç´ çš„ç±»å‹ï¼Œæ­£å¦‚ï¼šListï¼Œè¿™è¡¨æ˜è¯¥Liståªèƒ½ä¿å­˜å­—ç¬¦ä¸²ç±»å‹çš„å¯¹è±¡ã€‚
* JDK1.5æ”¹å†™äº†é›†åˆæ¡†æ¶ä¸­çš„å…¨éƒ¨æ¥å£å’Œç±»ï¼Œä¸ºè¿™äº›æ¥å£ã€ç±»å¢åŠ äº†æ³›å‹æ”¯æŒï¼Œä»è€Œå¯ä»¥åœ¨å£°æ˜é›†åˆå˜é‡ã€åˆ›å»ºé›†åˆå¯¹è±¡æ—¶ä¼ å…¥ç±»å‹å®å‚ã€‚

## 1.3ã€é‚£ä¹ˆä¸ºä»€ä¹ˆè¦æœ‰æ³›å‹å‘¢

**é‚£ä¹ˆä¸ºä»€ä¹ˆè¦æœ‰æ³›å‹å‘¢ï¼Œç›´æ¥Objectä¸æ˜¯ä¹Ÿå¯ä»¥å­˜å‚¨æ•°æ®å—ï¼Ÿ**

> **1ã€è§£å†³å…ƒç´ å­˜å‚¨çš„å®‰å…¨æ€§é—®é¢˜ï¼Œå¥½æ¯”å•†å“ã€è¯å“æ ‡ç­¾ï¼Œä¸ä¼šå¼„é”™ã€‚2.è§£å†³è·å–æ•°æ®å…ƒç´ æ—¶ï¼Œéœ€è¦ç±»å‹å¼ºåˆ¶è½¬æ¢çš„é—®é¢˜ï¼Œå¥½æ¯”ä¸ç”¨æ¯å›æ‹¿å•†å“ã€è¯å“éƒ½è¦è¾¨åˆ«ã€‚**
>

![](assets/e8b9c3de54e6610e42e08ea1a2d9f98a-20220603152843-06pmbrf.png)

![](assets/7bff707c9e87b7fafd21c1b57804fa7d-20220603152843-lj3mzwd.png)

> **2ã€Javaæ³›å‹å¯ä»¥ä¿è¯å¦‚æœç¨‹åºåœ¨ç¼–è¯‘æ—¶æ²¡æœ‰å‘å‡ºè­¦å‘Šï¼Œè¿è¡Œæ—¶å°±ä¸ä¼šäº§ç”ŸClassCastExceptionå¼‚å¸¸ã€‚åŒæ—¶ï¼Œä»£ç æ›´åŠ ç®€æ´ã€å¥å£®ã€‚**
>

```java
import org.junit.Test;

import java.util.ArrayList;

/**
 * æ³›å‹çš„ä½¿ç”¨
 * 1.jdk5.0æ–°å¢çš„ç‰¹å¾
 */
public class GenericTest { 

    //åœ¨é›†åˆä¸­ä½¿ç”¨æ³›å‹ä¹‹å‰çš„æƒ…å†µï¼š
    @Test
    public void test(){ 
        ArrayList list = new ArrayList();
        //éœ€æ±‚ï¼šå­˜æ”¾å­¦ç”Ÿçš„æˆç»©
        list.add(78);
        list.add(49);
        list.add(72);
        list.add(81);
        list.add(89);
        //é—®é¢˜ä¸€ï¼šç±»å‹ä¸å®‰å…¨
//        list.add("Tom");

        for(Object score : list){ 
            //é—®é¢˜äºŒï¼šå¼ºè½¬æ—¶å¯èƒ½å‡ºç°ç±»å‹è½¬åŒ–å¼‚å¸¸
            int stuScore = (Integer)score;

            System.out.println(stuScore);
        }

    }

}
123456789101112131415161718192021222324252627282930313233
```

## 02ã€åœ¨é›†åˆä¸­ä½¿ç”¨æ³›å‹

> æ³¨æ„ç‚¹ï¼šæ³›å‹çš„ç±»å‹å¿…é¡»æ˜¯ç±»ï¼Œä¸èƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚éœ€è¦ç”¨åˆ°åŸºæœ¬æ•°æ®ç±»å‹çš„ä½ç½®ï¼Œæ‹¿åŒ…è£…ç±»æ›¿æ¢
>

## 2.1ã€ä¸¾ä¾‹

```java
import org.junit.Test;

import java.util.*;

/**
 * æ³›å‹çš„ä½¿ç”¨
 * 1.jdk5.0æ–°å¢çš„ç‰¹å¾
 *
 * 2.åœ¨é›†åˆä¸­ä½¿ç”¨æ³›å‹ï¼š
 *  æ€»ç»“ï¼š
 *  â‘ é›†åˆæ¥å£æˆ–é›†åˆç±»åœ¨jdk5.0æ—¶éƒ½ä¿®æ”¹ä¸ºå¸¦æ³›å‹çš„ç»“æ„ã€‚
 *  â‘¡åœ¨å®ä¾‹åŒ–é›†åˆç±»æ—¶ï¼Œå¯ä»¥æŒ‡æ˜å…·ä½“çš„æ³›å‹ç±»å‹
 *  â‘¢æŒ‡æ˜å®Œä»¥åï¼Œåœ¨é›†åˆç±»æˆ–æ¥å£ä¸­å‡¡æ˜¯å®šä¹‰ç±»æˆ–æ¥å£æ—¶ï¼Œå†…éƒ¨ç»“æ„ï¼ˆæ¯”å¦‚ï¼šæ–¹æ³•ã€æ„é€ å™¨ã€å±æ€§ç­‰ï¼‰ä½¿ç”¨åˆ°ç±»çš„æ³›å‹çš„ä½ç½®ï¼Œéƒ½æŒ‡å®šä¸ºå®ä¾‹åŒ–çš„æ³›å‹ç±»å‹ã€‚
 *    æ¯”å¦‚ï¼šadd(E e)  --->å®ä¾‹åŒ–ä»¥åï¼šadd(Integer e)
 *  â‘£æ³¨æ„ç‚¹ï¼šæ³›å‹çš„ç±»å‹å¿…é¡»æ˜¯ç±»ï¼Œä¸èƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚éœ€è¦ç”¨åˆ°åŸºæœ¬æ•°æ®ç±»å‹çš„ä½ç½®ï¼Œæ‹¿åŒ…è£…ç±»æ›¿æ¢
 *  â‘¤å¦‚æœå®ä¾‹åŒ–æ—¶ï¼Œæ²¡æœ‰æŒ‡æ˜æ³›å‹çš„ç±»å‹ã€‚é»˜è®¤ç±»å‹ä¸ºjava.lang.Objectç±»å‹ã€‚
 *
 * 3.å¦‚ä½•è‡ªå®šä¹‰æ³›å‹ç»“æ„ï¼šæ³›å‹ç±»ã€æ³›å‹æ¥å£ï¼›æ³›å‹æ–¹æ³•ã€‚è§ GenericTest1.java
 *
 */
public class GenericTest { 

    //åœ¨é›†åˆä¸­ä½¿ç”¨æ³›å‹çš„æƒ…å†µï¼šä»¥HashMapä¸ºä¾‹
    @Test
    public void test3(){ 
//        Map<String,Integer> map = new HashMap<String,Integer>();
        //jdk7æ–°ç‰¹æ€§ï¼šç±»å‹æ¨æ–­
        Map<String,Integer> map = new HashMap<>();

        map.put("Tom",87);
        map.put("Tone",81);
        map.put("Jack",64);

//        map.put(123,"ABC");

        //æ³›å‹çš„åµŒå¥—
        Set<Map.Entry<String,Integer>> entry = map.entrySet();
        Iterator<Map.Entry<String, Integer>> iterator = entry.iterator();

        while(iterator.hasNext()){ 
            Map.Entry<String, Integer> e = iterator.next();
            String key = e.getKey();
            Integer value = e.getValue();
            System.out.println(key + "----" + value);
        }
    }

    //åœ¨é›†åˆä¸­ä½¿ç”¨æ³›å‹çš„æƒ…å†µï¼šä»¥ArrayListä¸ºä¾‹
    @Test
    public void test2(){ 
        ArrayList<Integer> list = new ArrayList<Integer>();

        list.add(78);
        list.add(49);
        list.add(72);
        list.add(81);
        list.add(89);
        //ç¼–è¯‘æ—¶ï¼Œå°±ä¼šè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä¿è¯æ•°æ®çš„å®‰å…¨
//        list.add("Tom");

        //æ–¹å¼ä¸€ï¼š
//        for(Integer score :list){ 
//            //é¿å…äº†å¼ºè½¬çš„æ“ä½œ
//            int stuScore = score;
//
//            System.out.println(stuScore);
//        }

        //æ–¹å¼äºŒï¼š
        Iterator<Integer> iterator = list.iterator();
        while(iterator.hasNext()){ 
            int stuScore = iterator.next();
            System.out.println(stuScore);
        }
    }
}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576
```

## 2.2ã€ç»ƒä¹ 

> ç»ƒä¹ 1
>

![](assets/9b9fe485bf5138c0e1d75ba0023796b7-20220603152843-iaqpdt0.png)

> 1ã€MyDateç±»
>

```java
/**
 * MyDateç±»åŒ…å«:
 * privateæˆå‘˜å˜é‡year,month,dayï¼›å¹¶ä¸ºæ¯ä¸€ä¸ªå±æ€§å®šä¹‰getter,  setter æ–¹æ³•ï¼›
 *
 */
public class MyDate implements Comparable<MyDate>{ 
    private int year;
    private int month;
    private int day;

    public int getYear() { 
        return year;
    }

    public void setYear(int year) { 
        this.year = year;
    }

    public int getMonth() { 
        return month;
    }

    public void setMonth(int month) { 
        this.month = month;
    }

    public int getDay() { 
        return day;
    }

    public void setDay(int day) { 
        this.day = day;
    }

    public MyDate() { 
    }

    public MyDate(int year, int month, int day) { 
        this.year = year;
        this.month = month;
        this.day = day;
    }

    @Override
    public String toString() { 
        return "MyDate{" +
                "year=" + year +
                ", month=" + month +
                ", day=" + day +
                '}';
    }

//    @Override
//    public int compareTo(Object o) { 
//        if(o instanceof MyDate){ 
//            MyDate m = (MyDate)o;
//
//            //æ¯”è¾ƒå¹´
//            int minusYear = this.getYear() - m.getYear();
//            if(minusYear != 0){ 
//                return minusYear;
//            }
//            //æ¯”è¾ƒæœˆ
//            int minusMonth = this.getMonth() - m.getMonth();
//            if(minusMonth != 0){ 
//                return minusMonth;
//            }
//            //æ¯”è¾ƒæ—¥
//            return this.getDay() - m.getDay();
//        }
//
//        throw new RuntimeException("ä¼ å…¥çš„æ•°æ®ç±»å‹ä¸ä¸€è‡´ï¼");
//
//    }

    @Override
    public int compareTo(MyDate m) { 
        //æ¯”è¾ƒå¹´
        int minusYear = this.getYear() - m.getYear();
        if(minusYear != 0){ 
            return minusYear;
        }
        //æ¯”è¾ƒæœˆ
        int minusMonth = this.getMonth() - m.getMonth();
        if(minusMonth != 0){ 
            return minusMonth;
        }
        //æ¯”è¾ƒæ—¥
        return this.getDay() - m.getDay();
    }
}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091
```

> 2ã€Employeeç±»
>

```java
/**
 * å®šä¹‰ä¸€ä¸ªEmployeeç±»ã€‚
 * è¯¥ç±»åŒ…å«ï¼šprivateæˆå‘˜å˜é‡name,age,birthdayï¼Œ
 * å…¶ä¸­birthday ä¸ºMyDate ç±»çš„å¯¹è±¡ï¼›
 * å¹¶ä¸ºæ¯ä¸€ä¸ªå±æ€§å®šä¹‰getter, setter æ–¹æ³•ï¼›
 * å¹¶é‡å†™toString æ–¹æ³•è¾“å‡ºname, age, birthday
 *
 */
public class Employee implements Comparable<Employee>{ 
    private String name;
    private int age;
    private MyDate birthday;

    public String getName() { 
        return name;
    }

    public void setName(String name) { 
        this.name = name;
    }

    public int getAge() { 
        return age;
    }

    public void setAge(int age) { 
        this.age = age;
    }

    public MyDate getBirthday() { 
        return birthday;
    }

    public void setBirthday(MyDate birthday) { 
        this.birthday = birthday;
    }

    public Employee() { 
    }

    public Employee(String name, int age, MyDate birthday) { 
        this.name = name;
        this.age = age;
        this.birthday = birthday;
    }

    @Override
    public String toString() { 
        return "Employee{" +
                "name='" + name + '\'' +
                ", age=" + age +
                ", birthday=" + birthday +
                '}';
    }

    //æ²¡æœ‰æŒ‡æ˜æ³›å‹æ—¶çš„å†™æ³•
    //æŒ‰nameæ’åº
//    @Override
//    public int compareTo(Object o){ 
//        if(o instanceof Employee){ 
//            Employee e = (Employee)o;
//            return this.name.compareTo(e.name);
//        }
        return 0;
//        throw new RuntimeException("ä¼ å…¥çš„æ•°æ®ç±»å‹ä¸ä¸€è‡´");
//    }

    //æŒ‡æ˜æ³›å‹æ—¶çš„å†™æ³•
    @Override
    public int compareTo(Employee o) { 
        return this.name.compareTo(o.name);
    }
}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273
```

> 3ã€æµ‹è¯•ç±»
>

```java
import org.junit.Test;

import java.util.Comparator;
import java.util.Iterator;
import java.util.TreeSet;

/**
 * åˆ›å»ºè¯¥ç±»çš„5 ä¸ªå¯¹è±¡ï¼Œå¹¶æŠŠè¿™äº›å¯¹è±¡æ”¾å…¥TreeSet é›†åˆä¸­
 * ï¼ˆä¸‹ä¸€ç« ï¼šTreeSet éœ€ä½¿ç”¨æ³›å‹æ¥å®šä¹‰ï¼‰åˆ†åˆ«æŒ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼
 * å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶éå†è¾“å‡ºï¼š
 *
 * 1). ä½¿Employee å®ç°Comparable æ¥å£ï¼Œå¹¶æŒ‰name æ’åº
 * 2). åˆ›å»ºTreeSet æ—¶ä¼ å…¥Comparatorå¯¹è±¡ï¼ŒæŒ‰ç”Ÿæ—¥æ—¥æœŸçš„å…ˆåæ’åºã€‚
 */
public class EmployeeTest { 

    //é—®é¢˜äºŒï¼šæŒ‰ç”Ÿæ—¥æ—¥æœŸçš„å…ˆåæ’åº
    @Test
    public void test2(){ 
        TreeSet<Employee> set = new TreeSet<>(new Comparator<Employee>() { 
            //ä½¿ç”¨æ³›å‹ä»¥åçš„å†™æ³•
            @Override
            public int compare(Employee o1, Employee o2) { 
                MyDate b1 = o1.getBirthday();
                MyDate b2 = o2.getBirthday();

                return b1.compareTo(b2);
            }
            //ä½¿ç”¨æ³›å‹ä¹‹å‰çš„å†™æ³•
            //@Override
//            public int compare(Object o1, Object o2) { 
//                if(o1 instanceof Employee && o2 instanceof Employee){ 
//                    Employee e1 = (Employee)o1;
//                    Employee e2 = (Employee)o2;
//
//                    MyDate b1 = e1.getBirthday();
//                    MyDate b2 = e2.getBirthday();
//                    //æ–¹å¼ä¸€ï¼š
                    //æ¯”è¾ƒå¹´
                    int minusYear = b1.getYear() - b2.getYear();
                    if(minusYear != 0){ 
                        return minusYear;
                    }
                    //æ¯”è¾ƒæœˆ
                    int minusMonth = b1.getMonth() - b2.getMonth();
                    if(minusMonth != 0){ 
                        return minusMonth;
                    }
                    //æ¯”è¾ƒæ—¥
                    return b1.getDay() - b2.getDay();
//
//                    //æ–¹å¼äºŒï¼š
//                    return b1.compareTo(b2);
//
//                }
                return 0;
//                throw new RuntimeException("ä¼ å…¥çš„æ•°æ®ç±»å‹ä¸ä¸€è‡´ï¼");
//            }
        });

        Employee e1 = new Employee("liudehua",55,new MyDate(1965,5,4));
        Employee e2 = new Employee("zhangxueyou",43,new MyDate(1987,5,4));
        Employee e3 = new Employee("guofucheng",44,new MyDate(1987,5,9));
        Employee e4 = new Employee("liming",51,new MyDate(1954,8,12));
        Employee e5 = new Employee("liangzhaowei",21,new MyDate(1978,12,4));

        set.add(e1);
        set.add(e2);
        set.add(e3);
        set.add(e4);
        set.add(e5);

        Iterator<Employee> iterator = set.iterator();
        while (iterator.hasNext()){ 
            System.out.println(iterator.next());
        }
    }

    //é—®é¢˜ä¸€ï¼šä½¿ç”¨è‡ªç„¶æ’åº
    @Test
    public void test(){ 
        TreeSet<Employee> set = new TreeSet<Employee>();

        Employee e1 = new Employee("wangxianzhi",41,new MyDate(334,5,4));
        Employee e2 = new Employee("simaqian",43,new MyDate(-145,7,12));
        Employee e3 = new Employee("yanzhenqin",44,new MyDate(709,5,9));
        Employee e4 = new Employee("zhangqian",51,new MyDate(-179,8,12));
        Employee e5 = new Employee("quyuan",21,new MyDate(-340,12,4));

        set.add(e1);
        set.add(e2);
        set.add(e3);
        set.add(e4);
        set.add(e5);

        Iterator<Employee> iterator = set.iterator();
        while (iterator.hasNext()){ 
            Employee next = iterator.next();
            System.out.println(next);
        }
    }
}
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102
```

## 03ã€è‡ªå®šä¹‰æ³›å‹ç»“æ„

## 3.1ã€è‡ªå®šä¹‰[æ³›å‹ç±»](https://so.csdn.net/so/search?q=%E6%B3%9B%E5%9E%8B%E7%B1%BB&spm=1001.2101.3001.7020)ä¸¾ä¾‹

> 1ã€OrderTestç±»
>

```java
/**
 * è‡ªå®šä¹‰æ³›å‹ç±»
 *
 */
public class OrderTest<T> { 

    String orderName;
    int orderId;

    //ç±»çš„å†…éƒ¨ç»“æ„å°±å¯ä»¥ä½¿ç”¨ç±»çš„æ³›å‹
    T orderT;

    public OrderTest(){ 

    };

    public OrderTest(String orderName,int orderId,T orderT){ 
        this.orderName = orderName;
        this.orderId = orderId;
        this.orderT = orderT;
    }

    //å¦‚ä¸‹çš„ä¸‰ä¸ªæ–¹æ³•éƒ½ä¸æ˜¯æ³›å‹æ–¹æ³•
    public T getOrderT(){ 
        return orderT;
    }

    public void setOrderT(T orderT){ 
        this.orderT = orderT;
    }

    @Override
    public String toString() { 
        return "Order{" +
                "orderName='" + orderName + '\'' +
                ", orderId=" + orderId +
                ", orderT=" + orderT +
                '}';
    }
  
    //æ³›å‹æ–¹æ³•ï¼šåœ¨æ–¹æ³•ä¸­å‡ºç°äº†æ³›å‹çš„ç»“æ„ï¼Œæ³›å‹å‚æ•°ä¸ç±»çš„æ³›å‹å‚æ•°æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚
    //æ¢å¥è¯è¯´ï¼Œæ³›å‹æ–¹æ³•æ‰€å±çš„ç±»æ˜¯ä¸æ˜¯æ³›å‹ç±»éƒ½æ²¡æœ‰å…³ç³»ã€‚
    //æ³›å‹æ–¹æ³•ï¼Œå¯ä»¥å£°æ˜ä¸ºé™æ€çš„ã€‚åŸå› ï¼šæ³›å‹å‚æ•°æ˜¯åœ¨è°ƒç”¨æ–¹æ³•æ—¶ç¡®å®šçš„ã€‚å¹¶éåœ¨å®ä¾‹åŒ–ç±»æ—¶ç¡®å®šã€‚
    public static <E>  List<E> copyFromArrayToList(E[] arr){ 

        ArrayList<E> list = new ArrayList<>();

        for(E e : arr){ 
            list.add(e);
        }
        return list;

    }
}
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354
```

> 2ã€SubOrderç±»
>

```java
public class SubOrder extends OrderTest<Integer>{    //SubOrder:ä¸æ˜¯æ³›å‹ç±»
}
12
```

> 3ã€SubOrder1ç±»
>

```java
public class SubOrder1<T> extends OrderTest<T> { //SubOrder1<T>:ä»ç„¶æ˜¯æ³›å‹ç±»
}
12
```

> 4ã€GenericTest1ç±»
>

```java
import org.junit.Test;

/**
 * å¦‚ä½•è‡ªå®šä¹‰æ³›å‹ç»“æ„ï¼šæ³›å‹ç±»ã€æ³›å‹æ¥å£ï¼›æ³›å‹æ–¹æ³•ã€‚
 *
 * 1.å…³äºè‡ªå®šä¹‰æ³›å‹ç±»ã€æ³›å‹æ¥å£ï¼š
 */
public class GenericTest1 { 

    @Test
    public void test(){ 
        /**
         * å¦‚æœå®šä¹‰äº†æ³›å‹ç±»ï¼Œå®ä¾‹åŒ–æ²¡æœ‰æŒ‡æ˜ç±»çš„æ³›å‹ï¼Œåˆ™è®¤ä¸ºæ­¤æ³›å‹ç±»å‹ä¸ºObjectç±»å‹
         * è¦æ±‚ï¼šå¦‚æœå¤§å®¶å®šä¹‰äº†ç±»æ˜¯å¸¦æ³›å‹çš„ï¼Œå»ºè®®åœ¨å®ä¾‹åŒ–æ—¶è¦æŒ‡æ˜ç±»çš„æ³›å‹ã€‚
         */
        OrderTest order = new OrderTest();
        order.setOrderT(123);
        order.setOrderT("ABC");

        //å»ºè®®ï¼šå®ä¾‹åŒ–æ—¶æŒ‡æ˜ç±»çš„æ³›å‹
        OrderTest<String> order1 = new OrderTest<String>("orderAA",1001,"order:AA");

        order1.setOrderT("AA:hello");
    }

    @Test
    public void test2(){ 
        SubOrder sub1 = new SubOrder();
        //ç”±äºå­ç±»åœ¨ç»§æ‰¿å¸¦æ³›å‹çš„çˆ¶ç±»æ—¶ï¼ŒæŒ‡æ˜äº†æ³›å‹ç±»å‹ã€‚åˆ™å®ä¾‹åŒ–å­ç±»å¯¹è±¡æ—¶ï¼Œä¸å†éœ€è¦æŒ‡æ˜æ³›å‹ã€‚
        sub1.setOrderT(1122);

        SubOrder1<String> sub2 = new SubOrder1<>();
        sub2.setOrderT("order2...");
    }
}
1234567891011121314151617181920212223242526272829303132333435
```

## 3.2ã€è‡ªå®šä¹‰æ³›å‹ç±»æ³›å‹æ¥å£çš„æ³¨æ„ç‚¹

**æ³¨æ„ç‚¹ï¼š**

1. **æ³›å‹ç±»å¯èƒ½æœ‰å¤šä¸ªå‚æ•°ï¼Œæ­¤æ—¶åº”å°†å¤šä¸ªå‚æ•°ä¸€èµ·æ”¾åœ¨å°–æ‹¬å·å†…ã€‚æ¯”å¦‚ï¼š<E1,E2,E3>**
2. æ³›å‹ç±»çš„æ„é€ å™¨å¦‚ä¸‹ï¼špublic GenericClass(){}ã€‚è€Œä¸‹é¢æ˜¯é”™è¯¯çš„ï¼špublic GenericClass(){}
3. å®ä¾‹åŒ–åï¼Œæ“ä½œåŸæ¥æ³›å‹ä½ç½®çš„ç»“æ„å¿…é¡»ä¸æŒ‡å®šçš„æ³›å‹ç±»å‹ä¸€è‡´ã€‚
4. æ³›å‹ä¸åŒçš„å¼•ç”¨ä¸èƒ½ç›¸äº’èµ‹å€¼ã€‚å°½ç®¡åœ¨ç¼–è¯‘æ—¶ArrayListå’ŒArrayListæ˜¯ä¸¤ç§ç±»å‹ï¼Œä½†æ˜¯ï¼Œåœ¨è¿è¡Œæ—¶åªæœ‰ä¸€ä¸ªArrayListè¢«åŠ è½½åˆ°JVMä¸­ã€‚
5. æ³›å‹å¦‚æœä¸æŒ‡å®šï¼Œå°†è¢«æ“¦é™¤ï¼Œæ³›å‹å¯¹åº”çš„ç±»å‹å‡æŒ‰ç…§Objectå¤„ç†ï¼Œä½†ä¸ç­‰ä»·äºObjectã€‚  
    ç»éªŒï¼šæ³›å‹è¦ä½¿ç”¨ä¸€è·¯éƒ½ç”¨ã€‚è¦ä¸ç”¨ï¼Œä¸€è·¯éƒ½ä¸è¦ç”¨ã€‚
6. å¦‚æœæ³›å‹ç»“æ„æ˜¯ä¸€ä¸ªæ¥å£æˆ–æŠ½è±¡ç±»ï¼Œåˆ™ä¸å¯åˆ›å»ºæ³›å‹ç±»çš„å¯¹è±¡ã€‚
7. jdk1.7ï¼Œæ³›å‹çš„ç®€åŒ–æ“ä½œï¼šArrayList flist = new ArrayList<>();
8. **æ³›å‹çš„æŒ‡å®šä¸­ä¸èƒ½ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨åŒ…è£…ç±»æ›¿æ¢ã€‚**
9. **åœ¨ç±»/æ¥å£ä¸Šå£°æ˜çš„æ³›å‹ï¼Œåœ¨æœ¬ç±»æˆ–æœ¬æ¥å£ä¸­å³ä»£è¡¨æŸç§ç±»å‹ï¼Œå¯ä»¥ä½œä¸ºéé™æ€å±æ€§çš„ç±»å‹ã€éé™æ€æ–¹æ³•çš„å‚æ•°ç±»å‹ã€éé™æ€æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ã€‚ä½†åœ¨é™æ€æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨ç±»çš„æ³›å‹ã€‚**
10. **å¼‚å¸¸ç±»ä¸èƒ½æ˜¯æ³›å‹çš„**

     ```java
     //å¼‚å¸¸ç±»ä¸èƒ½å£°æ˜ä¸ºæ³›å‹ç±»
     //public class MyException<T> extends Exception{ 
     //}
     123
     ```

**ä»£ç æ¼”ç¤ºï¼š**

ä¸èƒ½ä½¿ç”¨`new E[]`ã€‚ä½†æ˜¯å¯ä»¥ï¼š`E[] elements = (E[])new Object[capacity]`;å‚è€ƒï¼šArrayListæºç ä¸­å£°æ˜ï¼šObject[] elementDataï¼Œè€Œéæ³›å‹å‚æ•°ç±»å‹æ•°ç»„ã€‚

> 1ã€Personç±»
>

```java
public class Person { 
}
12
```

> 2ã€OrderTestç±»
>

```java
/**
 * è‡ªå®šä¹‰æ³›å‹ç±»
 */
public class OrderTest<T> { 

    String orderName;
    int orderId;

    //ç±»çš„å†…éƒ¨ç»“æ„å°±å¯ä»¥ä½¿ç”¨ç±»çš„æ³›å‹
    T orderT;

    public OrderTest(){ 
        //ç¼–è¯‘ä¸é€šè¿‡
//        T[] arr = new T[10];
        //ç¼–è¯‘é€šè¿‡
        T[] arr = (T[]) new Object[10];
    };

    public OrderTest(String orderName,int orderId,T orderT){ 
        this.orderName = orderName;
        this.orderId = orderId;
        this.orderT = orderT;
    }

    public T getOrderT(){ 
        return orderT;
    }

    public void setOrderT(T orderT){ 
        this.orderT = orderT;
    }

    @Override
    public String toString() { 
        return "Order{" +
                "orderName='" + orderName + '\'' +
                ", orderId=" + orderId +
                ", orderT=" + orderT +
                '}';
    }

    //é™æ€æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨ç±»çš„æ³›å‹ã€‚
//    public static void show(T orderT){ 
//        System.out.println(orderT);
//    }

    public void show(){ 
        //ç¼–è¯‘ä¸é€šè¿‡
//        try{ 
//
//
//        }catch(T t){ 
//
//        }
    }
}
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556
```

> 3ã€GenericTest1ç±»
>

```java
import org.junit.Test;

import java.util.ArrayList;

/**
 * å¦‚ä½•è‡ªå®šä¹‰æ³›å‹ç»“æ„ï¼šæ³›å‹ç±»ã€æ³›å‹æ¥å£ï¼›æ³›å‹æ–¹æ³•ã€‚
 *
 * 1.å…³äºè‡ªå®šä¹‰æ³›å‹ç±»ã€æ³›å‹æ¥å£ï¼š
 *
 */
public class GenericTest1 { 

    @Test
    public void test3(){ 
        ArrayList<String> list1 = null;
        ArrayList<Integer> list2 = new ArrayList<Integer>();
        //æ³›å‹ä¸åŒçš„å¼•ç”¨ä¸èƒ½ç›¸äº’èµ‹å€¼ã€‚
        //list1 = list2;

        Person p1 = null;
        Person p2 = null;
        p1 = p2;
    }
}
123456789101112131415161718192021222324
```

> 4ã€åœ¨ç»§æ‰¿ä¸­ä½¿ç”¨æ³›å‹
>

1. çˆ¶ç±»æœ‰æ³›å‹ï¼Œå­ç±»å¯ä»¥é€‰æ‹©ä¿ç•™æ³›å‹ä¹Ÿå¯ä»¥é€‰æ‹©æŒ‡å®šæ³›å‹ç±»å‹ï¼š

    * å­ç±»ä¸ä¿ç•™çˆ¶ç±»çš„æ³›å‹ï¼šæŒ‰éœ€å®ç°

      * æ²¡æœ‰ç±»å‹æ“¦é™¤
      * å…·ä½“ç±»å‹
    * å­ç±»ä¿ç•™çˆ¶ç±»çš„æ³›å‹ï¼šæ³›å‹å­ç±»

      * å…¨éƒ¨ä¿ç•™
      * éƒ¨åˆ†ä¿ç•™

```java
class Father<T1, T2> { }
// å­ç±»ä¸ä¿ç•™çˆ¶ç±»çš„æ³›å‹
// 1)æ²¡æœ‰ç±»å‹æ“¦é™¤
class Son1 extends Father { // ç­‰ä»·äºclass Son extends Father<Object,Object>{}
}
// 2)å…·ä½“ç±»å‹
class Son2 extends Father<Integer, String> { }
// å­ç±»ä¿ç•™çˆ¶ç±»çš„æ³›å‹
// 1)å…¨éƒ¨ä¿ç•™
class Son3<T1, T2> extends Father<T1, T2> { }
// 2)éƒ¨åˆ†ä¿ç•™
class Son4<T2> extends Father<Integer, T2> { }
123456789101112
```

**ç»“è®ºï¼šå­ç±»å¿…é¡»æ˜¯â€œå¯ŒäºŒä»£â€ï¼Œå­ç±»é™¤äº†æŒ‡å®šæˆ–ä¿ç•™çˆ¶ç±»çš„æ³›å‹ï¼Œè¿˜å¯ä»¥å¢åŠ è‡ªå·±çš„æ³›å‹ã€‚**

## 3.3ã€è‡ªå®šä¹‰æ³›å‹æ–¹æ³•ä¸¾ä¾‹

**è¯´æ˜ï¼š**

* æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è¢«æ³›å‹åŒ–ï¼Œä¸ç®¡æ­¤æ—¶å®šä¹‰åœ¨å…¶ä¸­çš„ç±»æ˜¯ä¸æ˜¯æ³›å‹ç±»ã€‚åœ¨æ³›å‹æ–¹æ³•ä¸­å¯ä»¥å®šä¹‰æ³›å‹å‚æ•°ï¼Œæ­¤æ—¶ï¼Œå‚æ•°çš„ç±»å‹å°±æ˜¯ä¼ å…¥æ•°æ®çš„ç±»å‹ã€‚
* æ³›å‹æ–¹æ³•çš„æ ¼å¼ï¼š

  ```
  [è®¿é—®æƒé™] <æ³›å‹> è¿”å›ç±»å‹  æ–¹æ³•å([æ³›å‹æ ‡è¯†å‚æ•°åç§°]) æŠ›å‡ºçš„å¼‚å¸¸
  å¦‚ï¼špublic static <E>  List<E> copyFromArrayToList(E[] arr)ã€€throws  Exception{  }
  12
  ```

**ä»£ç æ¼”ç¤ºï¼š**

> 1ã€OrderTestç±»
>

```java
import java.util.ArrayList;
import java.util.List;

/**
 * è‡ªå®šä¹‰æ³›å‹ç±»
 */
public class OrderTest<T> { 

    /**
     * æ³›å‹æ–¹æ³•ï¼šåœ¨æ–¹æ³•ä¸­å‡ºç°äº†æ³›å‹çš„ç»“æ„ï¼Œæ³›å‹å‚æ•°ä¸ç±»çš„æ³›å‹å‚æ•°æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚
     * æ¢å¥è¯è¯´ï¼Œæ³›å‹æ–¹æ³•æ‰€å±çš„ç±»æ˜¯ä¸æ˜¯æ³›å‹ç±»éƒ½æ²¡æœ‰å…³ç³»ã€‚
     * æ³›å‹æ–¹æ³•ï¼Œå¯ä»¥å£°æ˜ä¸ºé™æ€çš„ã€‚åŸå› ï¼šæ³›å‹å‚æ•°æ˜¯åœ¨è°ƒç”¨æ–¹æ³•æ—¶ç¡®å®šçš„ã€‚å¹¶éåœ¨å®ä¾‹åŒ–ç±»æ—¶ç¡®å®šã€‚
     */
    public static <E> List<E> copyFromArrayToList(E[] arr){ 

        ArrayList<E> list = new ArrayList<>();

        for(E e : arr){ 
            list.add(e);
        }
        return list;

    }
}
123456789101112131415161718192021222324
```

> 2ã€æµ‹è¯•ç±»
>

```java
import org.junit.Test;

import java.util.ArrayList;
import java.util.List;

/**
 * å¦‚ä½•è‡ªå®šä¹‰æ³›å‹ç»“æ„ï¼šæ³›å‹ç±»ã€æ³›å‹æ¥å£ï¼›æ³›å‹æ–¹æ³•ã€‚
 *
 * 1.å…³äºè‡ªå®šä¹‰æ³›å‹ç±»ã€æ³›å‹æ¥å£ï¼š
 *
 */
public class GenericTest1 { 

    //æµ‹è¯•æ³›å‹æ–¹æ³•
    @Test
    public void test4(){ 
        OrderTest<String> order = new OrderTest<>();
        Integer[] arr = new Integer[]{ 1,2,3,4};
        //æ³›å‹æ–¹æ³•åœ¨è°ƒç”¨æ—¶ï¼ŒæŒ‡æ˜æ³›å‹å‚æ•°çš„ç±»å‹ã€‚
        List<Integer> list = order.copyFromArrayToList(arr);

        System.out.println(list);
    }
}
123456789101112131415161718192021222324
```

> 3ã€SubOrderç±»
>

```java
import java.util.ArrayList;
import java.util.List;

public class SubOrder extends OrderTest<Integer>{    //SubOrder:ä¸æ˜¯æ³›å‹ç±»
  
    public static <E> List<E> copyFromArrayToList(E[] arr){ //é™æ€çš„æ³›å‹æ–¹æ³•

        ArrayList<E> list = new ArrayList<>();

        for(E e : arr){ 
            list.add(e);
        }
        return list;

    }
}
12345678910111213141516
```

## 3.4ã€ä¸¾ä¾‹æ³›å‹ç±»å’Œæ³›å‹æ–¹æ³•çš„ä½¿ç”¨æƒ…å¢ƒ

> 1ã€DAOç±»
>

```java
import java.util.List;

public class DAO<T> {  //è¡¨çš„å…±æ€§æ“ä½œçš„DAO

    //æ·»åŠ ä¸€æ¡è®°å½•
    public void add(T t){ 

    }

    //åˆ é™¤ä¸€æ¡è®°å½•
    public boolean remove(int index){ 

        return false;
    }

    //ä¿®æ”¹ä¸€æ¡è®°å½•
    public void update(int index,T t){ 

    }

    //æŸ¥è¯¢ä¸€æ¡è®°å½•
    public T getIndex(int index){ 

        return null;
    }

    //æŸ¥è¯¢å¤šæ¡è®°å½•
    public List<T> getForList(int index){ 

        return null;
    }

    //æ³›å‹æ–¹æ³•
    //ä¸¾ä¾‹ï¼šè·å–è¡¨ä¸­ä¸€å…±æœ‰å¤šå°‘æ¡è®°å½•ï¼Ÿè·å–æœ€å¤§çš„å‘˜å·¥å…¥èŒæ—¶é—´ï¼Ÿ
    public <E> E getValue(){ 

        return null;
    }

}
12345678910111213141516171819202122232425262728293031323334353637383940
```

> 2ã€Customerç±»
>

```java
public class Customer {  //æ­¤ç±»å¯¹åº”æ•°æ®åº“ä¸­çš„customersè¡¨
}
12
```

> 3ã€CustomerDAOç±»
>

```java
public class CustomerDAO extends DAO<Customer>{ //åªèƒ½æ“ä½œæŸä¸€ä¸ªè¡¨çš„DAO
}
12
```

> 4ã€Studentç±»
>

```java
public class Student { 
}
12
```

> 5ã€StudentDAOç±»
>

```java
public class StudentDAO extends DAO<Student> { //åªèƒ½æ“ä½œæŸä¸€ä¸ªè¡¨çš„DAO
}
12
```

> 6ã€DAOTestç±»
>

```java
import org.junit.Test;

import java.util.List;

public class DAOTest { 

    @Test
    public void test(){ 
        CustomerDAO dao1 = new CustomerDAO();

        dao1.add(new Customer());
        List<Customer> list = dao1.getForList(10);


        StudentDAO dao2 = new StudentDAO();
        Student student = dao2.getIndex(1);
    }

}
12345678910111213141516171819
```

## 04ã€æ³›å‹åœ¨ç»§æ‰¿ä¸Šçš„ä½“ç°ã€é€šé…ç¬¦ã€‘

```java
import org.junit.Test;

import java.util.AbstractList;
import java.util.ArrayList;
import java.util.List;

/**
 * 1.æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°
 *
 * 2.é€šé…ç¬¦çš„ä½¿ç”¨
 *
 */
public class GenericTest { 

    /**
     * 1.æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°
     * è™½ç„¶ç±»Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼Œä½†æ˜¯G<A> å’ŒG<B>äºŒè€…ä¸å…·å¤‡å­çˆ¶ç±»å…³ç³»ï¼ŒäºŒè€…æ˜¯å¹¶åˆ—å…³ç³»ã€‚
     * è¡¥å……ï¼šç±»Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼ŒA<G> æ˜¯ B<G> çš„çˆ¶ç±»
     */
    @Test
    public void test(){ 

        Object obj = null;
        String str = null;
        obj = str;

        Object[] arr1 = null;
        String[] arr2 = null;
        arr1 = arr2;
        //ç¼–è¯‘ä¸é€šè¿‡
//        Date date = new Date();
//        str = date;
        List<Object> list1 = null;
        List<String> list2 = new ArrayList<String>();
        //æ­¤æ—¶çš„list1å’Œlist2çš„ç±»å‹ä¸å…·æœ‰å­çˆ¶ç±»å…³ç³»
        //ç¼–è¯‘ä¸é€šè¿‡
//        list1 = list2;
        /**
         * åè¯æ³•ï¼š
         *   å‡è®¾list1 = list2;
         *      list1.add(123);å¯¼è‡´æ··å…¥éStringçš„æ•°æ®ã€‚å‡ºé”™ã€‚
         */
        show(list1);
        show2(list2);
    }

    public void show2(List<String> list){ 

    }

    public void show(List<Object> list){ 

    }

    @Test
    public void test2(){ 
        AbstractList<String> list1 = null;
        List<String> list2 = null;
        ArrayList<String> list3 = null;

        list1 = list3;
        list2 = list3;

        List<String> list4 = new ArrayList<>();
    }

}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667
```

## 05ã€é€šé…ç¬¦çš„ä½¿ç”¨

**è¯´æ˜ï¼š**

1. ä½¿ç”¨ç±»å‹  
    é€šé…ç¬¦ï¼šï¼Ÿ

    1. æ¯”å¦‚ï¼šList<?> ï¼ŒMap<?,?>
    2. List<?>æ˜¯Listã€Listç­‰å„ç§æ³›å‹Listçš„çˆ¶ç±»ã€‚
2. è¯»å–List<?>çš„å¯¹è±¡listä¸­çš„å…ƒç´ æ—¶ï¼Œæ°¸è¿œæ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºä¸ç®¡listçš„çœŸå®ç±»å‹æ˜¯ä»€ä¹ˆï¼Œå®ƒåŒ…å«çš„éƒ½æ˜¯Objectã€‚
3. å†™å…¥listä¸­çš„å…ƒç´ æ—¶ï¼Œä¸è¡Œã€‚å› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“cçš„å…ƒç´ ç±»å‹ï¼Œæˆ‘ä»¬ä¸èƒ½å‘å…¶ä¸­æ·»åŠ å¯¹è±¡ã€‚

    * **å”¯ä¸€çš„ä¾‹å¤–æ˜¯nullï¼Œå®ƒæ˜¯æ‰€æœ‰ç±»å‹çš„æˆå‘˜ã€‚**
    * å°†ä»»æ„å…ƒç´ åŠ å…¥åˆ°å…¶ä¸­ä¸æ˜¯ç±»å‹å®‰å…¨çš„ï¼š

      ```java
      - Collection<?> c = new ArrayList();
      - c.add(new Object()); // ç¼–è¯‘æ—¶é”™è¯¯å› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“cçš„å…ƒç´ ç±»å‹ï¼Œæˆ‘ä»¬ä¸èƒ½å‘å…¶ä¸­æ·»åŠ å¯¹è±¡ã€‚addæ–¹æ³•æœ‰ç±»å‹å‚æ•°Eä½œä¸ºé›†åˆçš„å…ƒç´ ç±»å‹ã€‚æˆ‘ä»¬ä¼ ç»™addçš„ä»»ä½•å‚æ•°éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªæœªçŸ¥ç±»å‹çš„å­ç±»ã€‚å› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“é‚£æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•ä¼ ä»»ä½•ä¸œè¥¿è¿›å»ã€‚
      12
      ```
4. **å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨get()æ–¹æ³•å¹¶ä½¿ç”¨å…¶è¿”å›å€¼ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªæœªçŸ¥çš„ç±»å‹ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“ï¼Œå®ƒæ€»æ˜¯ä¸€ä¸ªObject** ã€‚

**ä»£ç æ¼”ç¤ºï¼š**

```java
import org.junit.Test;

import java.util.AbstractList;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

/**
 * 1.æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°
 * 2.é€šé…ç¬¦çš„ä½¿ç”¨
 */
public class GenericTest { 

    /**
     * 2.é€šé…ç¬¦çš„ä½¿ç”¨
     * é€šé…ç¬¦ï¼šï¼Ÿ
     *
     * ç±»Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼ŒG<A>å’ŒG<B>æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼ŒäºŒè€…å…±åŒçš„çˆ¶ç±»æ˜¯ï¼šG<?>
     */
    @Test
    public void test3(){ 
        List<Object> list1 = null;
        List<String> list2 = null;

        List<?> list = null;

        list = list1;
        list = list2;

        //ç¼–è¯‘é€šè¿‡
        print(list1);
        print(list2);
    }

    public void print(List<?> list){ 
        Iterator<?> iterator = list.iterator();
        while(iterator.hasNext()){ 
            Object obj = iterator.next();
            System.out.println(obj);
        }
    }
}
123456789101112131415161718192021222324252627282930313233343536373839404142
```

## 5.1ã€ä½¿ç”¨é€šé…ç¬¦åæ•°æ®çš„è¯»å–å’Œå†™å…¥è¦æ±‚

![](assets/2fd8ff17cc7537df3bbbdc4709a78770-20220603152843-vvl5edh.png)

```java
import org.junit.Test;

import java.util.AbstractList;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

/**
 * 1.æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°
 *
 * 2.é€šé…ç¬¦çš„ä½¿ç”¨
 */
public class GenericTest { 

    /**
     * 2.é€šé…ç¬¦çš„ä½¿ç”¨
     * é€šé…ç¬¦ï¼šï¼Ÿ
     *
     * ç±»Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼ŒG<A>å’ŒG<B>æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼ŒäºŒè€…å…±åŒçš„çˆ¶ç±»æ˜¯ï¼šG<?>
     */
    @Test
    public void test3(){ 
        List<Object> list1 = null;
        List<String> list2 = null;

        List<?> list = null;

        list = list1;
        list = list2;

        //ç¼–è¯‘é€šè¿‡
//        print(list1);
//        print(list2);

        List<String> list3 = new ArrayList<>();
        list3.add("AA");
        list3.add("BB");
        list3.add("CC");
        list = list3;
        //æ·»åŠ (å†™å…¥)ï¼šå¯¹äºList<?>å°±ä¸èƒ½å‘å…¶å†…éƒ¨æ·»åŠ æ•°æ®ã€‚
        //é™¤äº†æ·»åŠ nullä¹‹å¤–ã€‚
//        list.add("DD");
//        list.add('?');

        list.add(null);

        //è·å–(è¯»å–)ï¼šå…è®¸è¯»å–æ•°æ®ï¼Œè¯»å–çš„æ•°æ®ç±»å‹ä¸ºObjectã€‚
        Object o = list.get(0);
        System.out.println(o);
    }
}
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051
```

## 5.2ã€æœ‰é™åˆ¶æ¡ä»¶çš„é€šé…ç¬¦çš„ä½¿ç”¨

**è¯´æ˜ï¼š**

* <?> å…è®¸æ‰€æœ‰æ³›å‹çš„å¼•ç”¨è°ƒç”¨
* é€šé…ç¬¦æŒ‡å®šä¸Šé™ä¸Šé™  
  extendsï¼šä½¿ç”¨æ—¶æŒ‡å®šçš„ç±»å‹å¿…é¡»æ˜¯ç»§æ‰¿æŸä¸ªç±»ï¼Œæˆ–è€…å®ç°æŸä¸ªæ¥å£ï¼Œå³<=
* é€šé…ç¬¦æŒ‡å®šä¸‹é™  
  ä¸‹é™superï¼šä½¿ç”¨æ—¶æŒ‡å®šçš„ç±»å‹ä¸èƒ½å°äºæ“ä½œçš„ç±»ï¼Œå³>=
* ä¸¾ä¾‹ï¼š

  * <?extends Number> (æ— ç©·å°, Number] åªå…è®¸æ³›å‹ä¸ºNumberåŠNumberå­ç±»çš„å¼•ç”¨è°ƒç”¨
  * <? super Number> [Number , æ— ç©·å¤§) åªå…è®¸æ³›å‹ä¸ºNumberåŠNumberçˆ¶ç±»çš„å¼•ç”¨è°ƒç”¨
  * <? extends Comparable> åªå…è®¸æ³›å‹ä¸ºå®ç°Comparableæ¥å£çš„å®ç°ç±»çš„å¼•ç”¨è°ƒç”¨

**ä»£ç æ¼”ç¤ºï¼š**

> 1ã€Personç±»
>

```java
public class Person { 
}
12
```

> 2ã€Studentç±»
>

```java
public class Student extends Person{ 
}
12
```

> 3ã€æµ‹è¯•ç±»
>

```java
import org.junit.Test;

import java.util.AbstractList;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

/**
 * 1.æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°
 *
 * 2.é€šé…ç¬¦çš„ä½¿ç”¨
 */
public class GenericTest { 

    /**
     * 3.æœ‰é™åˆ¶æ¡ä»¶çš„é€šé…ç¬¦çš„ä½¿ç”¨ã€‚
     *
     * ? extends A:
     *      G<? extends A> å¯ä»¥ä½œä¸ºG<A>å’ŒG<B>çš„çˆ¶ç±»ï¼Œå…¶ä¸­Bæ˜¯Açš„å­ç±»
     *
     * ? super A:
     *      G<? super A> å¯ä»¥ä½œä¸ºG<A>å’ŒG<B>çš„çˆ¶ç±»ï¼Œå…¶ä¸­Bæ˜¯Açš„çˆ¶ç±»
     */
    @Test
    public void test4(){ 
        List<? extends Person> list1 = null;
        List<? super Person> list2 = null;

//        List<Student> list3 = null;
//        List<Student> list4 = null;
//        List<Student> list5 = null;

        List<Student> list3 = new ArrayList<Student>();
        List<Person> list4 = new ArrayList<Person>();
        List<Object> list5 = new ArrayList<Object>();

        list1 = list3;
        list1 = list4;
//        list1 = list5;

//        list2 = list3;
        list2 = list4;
        list2 = list5;

        //è¯»å–æ•°æ®ï¼š
        list1 = list3;
        Person p = list1.get(0);
        //ç¼–è¯‘ä¸é€šè¿‡
        //Student s = list1.get(0);

        list2 = list4;
        Object obj = list2.get(0);
        ç¼–è¯‘ä¸é€šè¿‡
//        Person obj = list2.get(0);

        //å†™å…¥æ•°æ®ï¼š
        //ç¼–è¯‘ä¸é€šè¿‡
//        list1.add(new Student());

        //ç¼–è¯‘é€šè¿‡
        list2.add(new Person());
        list2.add(new Student());
    }

}
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465
```

## 06ã€æ³›å‹åº”ç”¨ä¸¾ä¾‹

## 6.1ã€æ³›å‹[åµŒå¥—](https://so.csdn.net/so/search?q=%E5%B5%8C%E5%A5%97&spm=1001.2101.3001.7020)

```java
public static void main(String[] args) { 
        HashMap<String, ArrayList<Citizen>> map= new HashMap<String, ArrayList<Citizen>>();
        ArrayList<Citizen> list= new ArrayList<Citizen>();
        list.add(new Citizen("åˆ˜æºå¨"));
        list.add(new Citizen("æ¨å¹‚"));
        list.add(new Citizen("å°ç³¯ç±³"));
        map.put("åˆ˜æºå¨", list);
        Set<Entry<String, ArrayList<Citizen>>> entrySet= map.entrySet();
        Iterator<Entry<String, ArrayList<Citizen>>> iterator= entrySet.iterator();
        while(iterator.hasNext()) { 
            Entry<String, ArrayList<Citizen>> entry= iterator.next();
            String key= entry.getKey();
            ArrayList<Citizen> value= entry.getValue();
            System.out.println("æˆ·ä¸»ï¼š"+ key);
            System.out.println("å®¶åº­æˆå‘˜ï¼š"+ value);
        }
    }
1234567891011121314151617
```

## 6.2ã€å®é™…æ¡ˆä¾‹

![](assets/c7f67e4a87cd1527d1ea0d4389551d23-20220603152843-m1816ow.png)

```java
interface Info{ 		// åªæœ‰æ­¤æ¥å£çš„å­ç±»æ‰æ˜¯è¡¨ç¤ºäººçš„ä¿¡æ¯
}
class Contact implements Info{ 	// è¡¨ç¤ºè”ç³»æ–¹å¼
	private String address ;	// è”ç³»åœ°å€
	private String telephone ;	// è”ç³»æ–¹å¼
	private String zipcode ;	// é‚®æ”¿ç¼–ç 
	public Contact(String address,String telephone,String zipcode){ 
		this.address = address;
		this.telephone = telephone;
		this.zipcode = zipcode;
	}
	public void setAddress(String address){ 
		this.address = address ;
	}
	public void setTelephone(String telephone){ 
		this.telephone = telephone ;
	}
	public void setZipcode(String zipcode){ 
		this.zipcode = zipcode;
	}
	public String getAddress(){ 
		return this.address ;
	}
	public String getTelephone(){ 
		return this.telephone ;
	}
	public String getZipcode(){ 
		return this.zipcode;
	}
	@Override
	public String toString() { 
		return "Contact [address=" + address + ", telephone=" + telephone
				+ ", zipcode=" + zipcode + "]";
	}
}
class Introduction implements Info{ 
	private String name ;		// å§“å
	private String sex ;		// æ€§åˆ«
	private int age ;			// å¹´é¾„
	public Introduction(String name,String sex,int age){ 
		this.name = name;
		this.sex = sex;
		this.age = age;
	}
	public void setName(String name){ 
		this.name = name ;
	}
	public void setSex(String sex){ 
		this.sex = sex ;
	}
	public void setAge(int age){ 
		this.age = age ;
	}
	public String getName(){ 
		return this.name ;
	}
	public String getSex(){ 
		return this.sex ;
	}
	public int getAge(){ 
		return this.age ;
	}
	@Override
	public String toString() { 
		return "Introduction [name=" + name + ", sex=" + sex + ", age=" + age
				+ "]";
	}
}
class Person<T extends Info>{ 
	private T info ;
	public Person(T info){ 		// é€šè¿‡æ„é€ å™¨è®¾ç½®ä¿¡æ¯å±æ€§å†…å®¹
		this.info = info;
	}
	public void setInfo(T info){ 
		this.info = info ;
	}
	public T getInfo(){ 
		return info ;
	}
	@Override
	public String toString() { 
		return "Person [info=" + info + "]";
	}

}
public class GenericPerson{ 
	public static void main(String args[]){ 
		Person<Contact> per = null ;		// å£°æ˜Personå¯¹è±¡
		per = new Person<Contact>(new Contact("åŒ—äº¬å¸‚","01088888888","102206")) ;
		System.out.println(per);
	
		Person<Introduction> per2 = null ;		// å£°æ˜Personå¯¹è±¡
		per2 = new Person<Introduction>(new Introduction("æé›·","ç”·",24));
		System.out.println(per2) ;
	}
}
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596
```

## 07ã€è‡ªå®šä¹‰æ³›å‹ç±»ç»ƒä¹ 

![](assets/985fe52e0a8c525605fa4d8e3a2d32e4-20220603152843-wnw6u35.png)

**ä»£ç æ¼”ç¤ºï¼š**

> 1ã€æ³›å‹ç±»DAO
>

```java
import java.util.*;

/**
 * å®šä¹‰ä¸ªæ³›å‹ç±» DAO<T>ï¼Œåœ¨å…¶ä¸­å®šä¹‰ä¸€ä¸ªMap æˆå‘˜å˜é‡ï¼ŒMap çš„é”®ä¸º String ç±»å‹ï¼Œå€¼ä¸º T ç±»å‹ã€‚
 *
 * åˆ†åˆ«åˆ›å»ºä»¥ä¸‹æ–¹æ³•ï¼š
 * public void save(String id,T entity)ï¼š ä¿å­˜ T ç±»å‹çš„å¯¹è±¡åˆ° Map æˆå‘˜å˜é‡ä¸­
 * public T get(String id)ï¼šä» map ä¸­è·å– id å¯¹åº”çš„å¯¹è±¡
 * public void update(String id,T entity)ï¼šæ›¿æ¢ map ä¸­keyä¸ºidçš„å†…å®¹,æ”¹ä¸º entity å¯¹è±¡
 * public List<T> list()ï¼šè¿”å› map ä¸­å­˜æ”¾çš„æ‰€æœ‰ T å¯¹è±¡
 * public void delete(String id)ï¼šåˆ é™¤æŒ‡å®š id å¯¹è±¡
 */
public class DAO<T> { 
    private Map<String,T> map = new HashMap<String,T>();
    //ä¿å­˜ T ç±»å‹çš„å¯¹è±¡åˆ° Map æˆå‘˜å˜é‡ä¸­
    public void save(String id,T entity){ 
        map.put(id,entity);
    }
    //ä» map ä¸­è·å– id å¯¹åº”çš„å¯¹è±¡
    public T get(String id){ 
        return map.get(id);
    }
    //æ›¿æ¢ map ä¸­keyä¸ºidçš„å†…å®¹,æ”¹ä¸º entity å¯¹è±¡
    public void update(String id,T entity){ 
        if(map.containsKey(id)){ 
            map.put(id,entity);
        }
    }
    //è¿”å› map ä¸­å­˜æ”¾çš„æ‰€æœ‰ T å¯¹è±¡
    public List<T> list(){ 
        //é”™è¯¯çš„ï¼š
//        Collection<T> values = map.values();
//        return (List<T>) values;
        //æ­£ç¡®çš„ï¼š
        ArrayList<T> list = new ArrayList<>();
        Collection<T> values = map.values();
        for(T t : values){ 
            list.add(t);
        }
        return list;

    }
    //åˆ é™¤æŒ‡å®š id å¯¹è±¡
    public void delete(String id){ 
        map.remove(id);
    }
}
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647
```

> 2ã€Userç±»
>

```java
/**
 * å®šä¹‰ä¸€ä¸ª User ç±»ï¼š
 * è¯¥ç±»åŒ…å«ï¼šprivateæˆå‘˜å˜é‡ï¼ˆintç±»å‹ï¼‰ idï¼Œageï¼›ï¼ˆString ç±»å‹ï¼‰nameã€‚
 */
public class User { 
    private int id;
    private int age;
    private String name;

    public int getId() { 
        return id;
    }

    public void setId(int id) { 
        this.id = id;
    }

    public int getAge() { 
        return age;
    }

    public void setAge(int age) { 
        this.age = age;
    }

    public String getName() { 
        return name;
    }

    public void setName(String name) { 
        this.name = name;
    }

    public User(int id, int age, String name) { 

        this.id = id;
        this.age = age;
        this.name = name;
    }

    public User() { 

    }

    @Override
    public String toString() { 
        return "User{" +
                "id=" + id +
                ", age=" + age +
                ", name='" + name + '\'' +
                '}';
    }

    @Override
    public boolean equals(Object o) { 
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;

        User user = (User) o;

        if (id != user.id) return false;
        if (age != user.age) return false;
        return name != null ? name.equals(user.name) : user.name == null;
    }

    @Override
    public int hashCode() { 
        int result = id;
        result = 31 * result + age;
        result = 31 * result + (name != null ? name.hashCode() : 0);
        return result;
    }
}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273
```

> 3ã€æµ‹è¯•ç±»
>

```java
import java.util.List;

/**
 * åˆ›å»º DAO ç±»çš„å¯¹è±¡ï¼Œ åˆ†åˆ«è°ƒç”¨å…¶ saveã€getã€updateã€listã€delete
 * æ–¹æ³•æ¥æ“ä½œ User å¯¹è±¡ï¼Œä½¿ç”¨ Junit å•å…ƒæµ‹è¯•ç±»è¿›è¡Œæµ‹è¯•ã€‚
 */
public class DAOTest { 
    public static void main(String[] args) { 
        DAO<User> dao = new DAO<User>();

        dao.save("1001",new User(1001,34,"å‘¨æ°ä¼¦"));
        dao.save("1002",new User(1002,20,"æ˜†å‡Œ"));
        dao.save("1003",new User(1003,25,"è”¡ä¾æ—"));

        dao.update("1003",new User(1003,30,"æ–¹æ–‡å±±"));

        dao.delete("1002");

        List<User> list = dao.list();
//        System.out.println(list);
        list.forEach(System.out::println);
    }
}
1234567891011121314151617181920212223
```

> ä½œè€…åšç¬”è®°ä¸å®¹æ˜“ï¼Œè¯·è¯„ä¸ªåˆ†å§ï¼
>

* 1ã€å¦‚æœè§‰å¾—æ–‡ç« å†™è¡Œä¸é”™å°±ç‚¹ä¸ª  **èµ** ã€‚âœŒ
* 2ã€å¦‚æœè§‰å¾—å†™å¾—å¥½å°±  **ä¸€é”®ä¸‰è¿** ï¼âœŒâœŒâœŒ
* 3ã€å¦‚æœæ–‡ç« å¯¹ä½ å¾ˆæœ‰å¸®åŠ©ï¼Œè¯·  **æ‰“èµ** ã€‚ ğŸ’ƒğŸ’ƒğŸ’ƒğŸ’ƒğŸ’ƒ
