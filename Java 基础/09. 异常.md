# ä¹ï¼š å¼‚å¸¸_å–å‰©é¸­çš„åšå®¢-CSDNåšå®¢

---

* [https://blog.csdn.net/PorkBird/article/details/113695132](https://blog.csdn.net/PorkBird/article/details/113695132)
* è·³è½¬åˆ°æ€»ç›®å½•æ–‡ç« ç›®å½•01ã€å¼‚å¸¸æ¦‚è¿°ä¸å¼‚å¸¸ä½“ç³»ç»“æ„02ã€å¸¸è§å¼‚å¸¸03ã€å¼‚å¸¸å¤„ç†æœºåˆ¶ä¸€ï¼štry-catch-finally3.1ã€finallyçš„ä½¿ç”¨04ã€å¼‚å¸¸å¤„ç†æœºåˆ¶äºŒï¼šthrows4.1ã€é‡å†™æ–¹æ³•å£°æ˜æŠ›å‡ºå¼‚å¸¸çš„åŸåˆ™05ã€æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸06ã€ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»6.1ã€ç»ƒä¹ 07ã€å¼‚å¸¸æ€»ç»“01ã€å¼‚å¸¸æ¦‚è¿°ä¸å¼‚å¸¸ä½“ç³»ç»“æ„åœ¨ä½¿ç”¨è®¡ç®—æœºè¯­è¨€è¿›è¡Œé¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå³ä½¿ç¨‹åºå‘˜æŠŠä»£ç å†™å¾—å°½å–„å°½ç¾ï¼Œåœ¨ç³»ç»Ÿçš„è¿è¡Œè¿‡ç¨‹ä¸­ä»ç„¶ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œå› ä¸ºå¾ˆå¤šé—®é¢˜ä¸æ˜¯é ä»£ç èƒ½å¤Ÿé¿å…çš„ï¼Œæ¯”å¦‚ï¼šå®¢æˆ·è¾“å…¥æ•°æ®çš„æ ¼å¼ï¼Œè¯»å–æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œç½‘ç»œæ˜¯å¦å§‹ç»ˆä¿
* 2022-06-03 15:26:42

---

[è·³è½¬åˆ°æ€»ç›®å½•](https://blog.csdn.net/PorkBird/article/details/113666639?spm=1001.2014.3001.5502)

### æ–‡ç« ç›®å½•

* [01ã€å¼‚å¸¸æ¦‚è¿°ä¸å¼‚å¸¸ä½“ç³»ç»“æ„](#01_11)
* [02ã€å¸¸è§å¼‚å¸¸](#02_66)
* [03ã€å¼‚å¸¸å¤„ç†æœºåˆ¶ä¸€ï¼štry-catch-finally](#03trycatchfinally_172)
* * [3.1ã€finallyçš„ä½¿ç”¨](#31finally_300)
* [04ã€å¼‚å¸¸å¤„ç†æœºåˆ¶äºŒï¼šthrows](#04throws_395)
* * * [4.1ã€é‡å†™æ–¹æ³•å£°æ˜æŠ›å‡ºå¼‚å¸¸çš„åŸåˆ™](#41_460)
* [05ã€æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸](#05_512)
* [06ã€ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»](#06_558)
* * [6.1ã€ç»ƒä¹ ](#61_589)
* [07ã€å¼‚å¸¸æ€»ç»“](#07_692)

## 01ã€å¼‚å¸¸æ¦‚è¿°ä¸å¼‚å¸¸ä½“ç³»ç»“æ„

åœ¨ä½¿ç”¨è®¡ç®—æœºè¯­è¨€è¿›è¡Œé¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå³ä½¿ç¨‹åºå‘˜æŠŠä»£ç å†™å¾—å°½å–„å°½ç¾ï¼Œåœ¨ç³»ç»Ÿçš„è¿è¡Œè¿‡ç¨‹ä¸­ä»ç„¶ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œå› ä¸ºå¾ˆå¤šé—®é¢˜ä¸æ˜¯é ä»£ç èƒ½å¤Ÿé¿å…çš„ï¼Œæ¯”å¦‚ï¼šå®¢æˆ·è¾“å…¥æ•°æ®çš„æ ¼å¼ï¼Œè¯»å–æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œç½‘ç»œæ˜¯å¦å§‹ç»ˆä¿æŒé€šç•…ç­‰ç­‰ã€‚

> å¼‚å¸¸ï¼š
>

åœ¨Javaè¯­è¨€ä¸­ï¼Œå°†ç¨‹åºæ‰§è¡Œä¸­å‘ç”Ÿçš„ä¸æ­£å¸¸æƒ…å†µç§°ä¸ºâ€œå¼‚å¸¸â€ã€‚(å¼€å‘è¿‡ç¨‹ä¸­çš„è¯­æ³•é”™è¯¯å’Œé€»è¾‘é”™è¯¯ä¸æ˜¯å¼‚å¸¸)

> Javaç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„å¼‚å¸¸äº‹ä»¶å¯åˆ†ä¸ºä¸¤ç±»ï¼š
>

* **Error** ï¼šJavaè™šæ‹Ÿæœºæ— æ³•è§£å†³çš„ä¸¥é‡é—®é¢˜ã€‚å¦‚ï¼šJVMç³»ç»Ÿå†…éƒ¨é”™è¯¯ã€èµ„æºè€—å°½ç­‰ä¸¥é‡æƒ…å†µã€‚æ¯”å¦‚ï¼šStackOverflowErrorå’ŒOOMã€‚ä¸€èˆ¬ä¸ç¼–å†™é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†ã€‚

```java
  /*
   * Javaè™šæ‹Ÿæœºæ— æ³•è§£å†³çš„ä¸¥é‡é—®é¢˜ã€‚å¦‚ï¼šJVMç³»ç»Ÿå†…éƒ¨é”™è¯¯ã€èµ„æºè€—å°½ç­‰ä¸¥é‡æƒ…å†µã€‚
   * æ¯”å¦‚ï¼šStackOverflowErrorå’ŒOOMã€‚
   * ä¸€èˆ¬ä¸ç¼–å†™é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†ã€‚
   * 
   */
  public class ErrorTest { 
  	public static void main(String[] args) { 
  		//1.æ ˆæº¢å‡º:java.lang.StackOverflowError
  //		main(args);
  		//2.å †æº¢å‡º:java.lang.OutOfMemoryError
  //		Integer[] arr = new Integer[1024*1024*1024];
  	
  	}
  }
  123456789101112131415
```

* **Exception** :å…¶å®ƒå› ç¼–ç¨‹é”™è¯¯æˆ–å¶ç„¶çš„å¤–åœ¨å› ç´ å¯¼è‡´çš„ä¸€èˆ¬æ€§é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚ï¼š

  * ç©ºæŒ‡é’ˆè®¿é—®
  * è¯•å›¾è¯»å–ä¸å­˜åœ¨çš„æ–‡ä»¶
  * ç½‘ç»œè¿æ¥ä¸­æ–­
  * æ•°ç»„è§’æ ‡è¶Šç•Œ

> å¯¹äºè¿™äº›é”™è¯¯ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼š
>

* ä¸€æ˜¯é‡åˆ°é”™è¯¯å°±ç»ˆæ­¢ç¨‹åºçš„è¿è¡Œã€‚
* å¦ä¸€ç§æ–¹æ³•æ˜¯ç”±ç¨‹åºå‘˜åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œå°±è€ƒè™‘åˆ°é”™è¯¯çš„æ£€æµ‹ã€é”™è¯¯æ¶ˆæ¯çš„æç¤ºï¼Œä»¥åŠé”™è¯¯çš„å¤„ç†ã€‚

æ•è·é”™è¯¯æœ€ç†æƒ³çš„æ˜¯åœ¨ç¼–è¯‘æœŸé—´ï¼Œä½†æœ‰çš„é”™è¯¯åªæœ‰åœ¨è¿è¡Œæ—¶æ‰ä¼šå‘ç”Ÿã€‚æ¯”å¦‚ï¼šé™¤æ•°ä¸º0ï¼Œæ•°ç»„ä¸‹æ ‡è¶Šç•Œç­‰

> å¼‚å¸¸åˆ†ç±»ï¼š**ç¼–è¯‘æ—¶å¼‚å¸¸**å’Œ**è¿è¡Œæ—¶å¼‚å¸¸**
>

* è¿è¡Œæ—¶å¼‚å¸¸

  * æ˜¯æŒ‡ç¼–è¯‘å™¨ä¸è¦æ±‚å¼ºåˆ¶å¤„ç½®çš„å¼‚å¸¸ã€‚ä¸€èˆ¬æ˜¯æŒ‡ç¼–ç¨‹æ—¶çš„é€»è¾‘é”™è¯¯ï¼Œæ˜¯ç¨‹åºå‘˜åº”è¯¥ç§¯æé¿å…å…¶å‡ºç°çš„å¼‚å¸¸ã€‚java.lang.RuntimeExceptionç±»åŠå®ƒçš„å­ç±»éƒ½æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ã€‚
  * å¯¹äºè¿™ç±»å¼‚å¸¸ï¼Œå¯ä»¥ä¸ä½œå¤„ç†ï¼Œå› ä¸ºè¿™ç±»å¼‚å¸¸å¾ˆæ™®éï¼Œè‹¥å…¨å¤„ç†å¯èƒ½ä¼šå¯¹ç¨‹åºçš„å¯è¯»æ€§å’Œè¿è¡Œæ•ˆç‡äº§ç”Ÿå½±å“ã€‚
* ç¼–è¯‘æ—¶å¼‚å¸¸

  * æ˜¯æŒ‡ç¼–è¯‘å™¨è¦æ±‚å¿…é¡»å¤„ç½®çš„å¼‚å¸¸ã€‚å³ç¨‹åºåœ¨è¿è¡Œæ—¶ç”±äºå¤–ç•Œå› ç´ é€ æˆçš„ä¸€èˆ¬æ€§å¼‚å¸¸ã€‚ç¼–è¯‘å™¨è¦æ±‚Javaç¨‹åºå¿…é¡»æ•è·æˆ–å£°æ˜æ‰€æœ‰ç¼–è¯‘æ—¶å¼‚å¸¸ã€‚
  * å¯¹äºè¿™ç±»å¼‚å¸¸ï¼Œå¦‚æœç¨‹åºä¸å¤„ç†ï¼Œå¯èƒ½ä¼šå¸¦æ¥æ„æƒ³ä¸åˆ°çš„ç»“æœã€‚

## 02ã€å¸¸è§å¼‚å¸¸

```java
import java.io.File;
import java.io.FileInputStream;
import java.util.Date;
import java.util.Scanner;
import org.junit.Test;

/*
 * ä¸€ã€javaå¼‚å¸¸ä½“ç³»ç»“æ„
 * 
 * java.lang.Throwable
 * 		|----java.lang.Error:ä¸€èˆ¬ä¸ç¼–å†™é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†
 * 		|----java.lang.Exception:å¯ä»¥è¿›è¡Œå¼‚å¸¸å¤„ç†
 * 			|----ç¼–è¯‘æ—¶å¼‚å¸¸(checked)
 * 				|----IOEXception
 * 					|----FileNotFoundException
 * 				|----ClassNotFoundException
 * 			|----è¿è¡Œæ—¶å¼‚å¸¸(unchecked)
 * 				|----NullPointerException
 * 				|----ArrayIndexOutOfBoundsException
 * 				|----ClassCaseException
 * 				|----NumberFormatException
 * 				|----InputMismatchException
 * 				|----ArithmaticException
 * 
 * é¢è¯•é¢˜:å¸¸è§çš„å¼‚å¸¸æœ‰å“ªäº›ï¼Ÿä¸¾ä¾‹è¯´æ˜
 * 
 */
public class ExceptionTest { 

	// ******************ä»¥ä¸‹æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸***************************
	@Test
	public void test7() { 
//		File file = new File("hello.txt");
//		FileInputStream fis = new FileInputStream(file);
//	
//		int data = fis.read();
//		while(data != -1){ 
//			System.out.print((char)data);
//			data = fis.read();
//		}
//	
//		fis.close();
	}

	// ******************ä»¥ä¸‹æ˜¯è¿è¡Œæ—¶å¼‚å¸¸***************************
	// ArithmeticException
	@Test
	public void test6() { 
		int a = 10;
		int b = 0;
		System.out.println(a / b);
	}

	// InputMismatchException
	@Test
	public void test5() { 
		Scanner scanner = new Scanner(System.in);
		int score = scanner.nextInt();
		System.out.println(score);

		scanner.close();
	}

	// NumberFormatException
	@Test
	public void test4() { 
		String str = "123";
		str = "abc";
		int num = Integer.parseInt(str);
	}

	// ClassCaseException
	@Test
	public void test3() { 
		 Object obj = new Date();
		 String str = (String)obj;
	}

	// ArrayIndexOutOfBoundsException
	@Test
	public void test2() { 
		// int[] arr = new int[10];
		// System.out.println(arr[10]);

		// String str = "abc";
		// System.out.println(str.charAt(3));
	}

	// NullPointerException
	@Test
	public void test1() { 
		// int[] arr = null;
		// System.out.println(arr[3]);

		// String str = "abc";
		// str = null;
		// System.out.println(str.charAt(0));
	}
}
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899
```

## 03ã€å¼‚å¸¸å¤„ç†æœºåˆ¶ä¸€ï¼štry-catch-finally

åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œç»å¸¸è¦åœ¨å¯èƒ½å‡ºç°é”™è¯¯çš„åœ°æ–¹åŠ ä¸Šæ£€æµ‹çš„ä»£ç ï¼Œå¦‚è¿›è¡Œx/yè¿ç®—æ—¶ï¼Œè¦æ£€æµ‹åˆ†æ¯ä¸º0ï¼Œæ•°æ®ä¸ºç©ºï¼Œè¾“å…¥çš„ä¸æ˜¯æ•°æ®è€Œæ˜¯å­—ç¬¦ç­‰ã€‚è¿‡å¤šçš„if-elseåˆ†æ”¯ä¼šå¯¼è‡´ç¨‹åºçš„ä»£ç åŠ é•¿ã€è‡ƒè‚¿ï¼Œå¯è¯»æ€§å·®ã€‚å› æ­¤é‡‡ç”¨å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚

> Javaå¼‚å¸¸å¤„ç†:
>

Javaé‡‡ç”¨çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œæ˜¯å°†å¼‚å¸¸å¤„ç†çš„ç¨‹åºä»£ç é›†ä¸­åœ¨ä¸€èµ·ï¼Œä¸æ­£å¸¸çš„ç¨‹åºä»£ç åˆ†å¼€ï¼Œä½¿å¾—ç¨‹åºç®€æ´ã€ä¼˜é›…ï¼Œå¹¶æ˜“äºç»´æŠ¤ã€‚

æ–¹å¼ä¸€ï¼štry-catch-finally

æ–¹å¼äºŒï¼šthrows + å¼‚å¸¸ç±»å‹

> Javaå¼‚å¸¸å¤„ç†çš„æ–¹å¼: try-catch-finally
>

* try

  * æ•è·å¼‚å¸¸çš„ç¬¬ä¸€æ­¥æ˜¯ç”¨try{â€¦}è¯­å¥å—é€‰å®šæ•è·å¼‚å¸¸çš„èŒƒå›´ï¼Œå°†å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç æ”¾åœ¨tryè¯­å¥å—ä¸­ã€‚
* catch(Exceptiontypee)
* åœ¨catchè¯­å¥å—ä¸­æ˜¯å¯¹å¼‚å¸¸å¯¹è±¡è¿›è¡Œå¤„ç†çš„ä»£ç ã€‚æ¯ä¸ªtryè¯­å¥å—å¯ä»¥ä¼´éšä¸€ä¸ªæˆ–å¤šä¸ªcatchè¯­å¥ï¼Œç”¨äºå¤„ç†å¯èƒ½äº§ç”Ÿçš„ä¸åŒç±»å‹çš„å¼‚å¸¸å¯¹è±¡ã€‚
* æ•è·å¼‚å¸¸çš„æœ‰å…³ä¿¡æ¯ï¼šä¸å…¶å®ƒå¯¹è±¡ä¸€æ ·ï¼Œå¯ä»¥è®¿é—®ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡çš„æˆå‘˜å˜é‡æˆ–è°ƒç”¨å®ƒçš„æ–¹æ³•ã€‚

  * getMessage() è·å–å¼‚å¸¸ä¿¡æ¯ï¼Œè¿”å›å­—ç¬¦ä¸²
  * printStackTrace() è·å–å¼‚å¸¸ç±»åå’Œå¼‚å¸¸ä¿¡æ¯ï¼Œä»¥åŠå¼‚å¸¸å‡ºç°åœ¨ç¨‹åºä¸­çš„ä½ç½®ã€‚è¿”å›å€¼voidã€‚  
    â€‹![](assets/1856fe718d55f0f2180950b88deb622d-20220603152642-e7oq2jb.png)
* finally

  * æ•è·å¼‚å¸¸çš„æœ€åä¸€æ­¥æ˜¯é€šè¿‡finallyè¯­å¥ä¸ºå¼‚å¸¸å¤„ç†æä¾›ä¸€ä¸ªç»Ÿä¸€çš„å‡ºå£ï¼Œä½¿å¾—åœ¨æ§åˆ¶æµè½¬åˆ°ç¨‹åºçš„å…¶å®ƒéƒ¨åˆ†ä»¥å‰ï¼Œèƒ½å¤Ÿå¯¹ç¨‹åºçš„çŠ¶æ€ä½œç»Ÿä¸€çš„ç®¡ç†ã€‚
  * ä¸è®ºåœ¨tryä»£ç å—ä¸­æ˜¯å¦å‘ç”Ÿäº†å¼‚å¸¸äº‹ä»¶ï¼Œcatchè¯­å¥æ˜¯å¦æ‰§è¡Œï¼Œcatchè¯­å¥æ˜¯å¦æœ‰å¼‚å¸¸ï¼Œcatchè¯­å¥ä¸­æ˜¯å¦æœ‰returnï¼Œfinallyå—ä¸­çš„è¯­å¥éƒ½ä¼šè¢«æ‰§è¡Œã€‚
  * finallyè¯­å¥å’Œcatchè¯­å¥æ˜¯ä»»é€‰çš„  
    â€‹![](assets/8f4596135485e78881d6ee1cba3026b9-20220603152642-0353uyx.png)

```java
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;

import org.junit.Test;

/*
 * å¼‚å¸¸çš„å¤„ç†:æŠ“æŠ›æ¨¡å‹
 * 
 * è¿‡ç¨‹ä¸€:â€œæŠ›â€ï¼šç¨‹åºåœ¨å¾ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‡ºç°å¼‚å¸¸ï¼Œå°±ä¼šåœ¨å¼‚å¸¸ä»£ç å¤„ç”Ÿæˆä¸€ä¸ªå¯¹åº”å¼‚å¸¸ç±»çš„å¯¹è±¡
 * 			 å¹¶å°†æ­¤å¯¹è±¡æŠ›å‡ºã€‚
 * 			ä¸€æ—¦æŠ›å‡ºå¯¹è±¡ä»¥åï¼Œå…¶åçš„ä»£ç å°±ä¸å†æ‰§è¡Œã€‚
 * 
 * è¿‡ç¨‹äºŒ:â€œæŠ“â€:å¯ä»¥ç†è§£ä¸ºå¼‚å¸¸çš„å¤„ç†æ–¹å¼ï¼šâ‘  try-catch-finally  â‘¡ throws
 * 
 * äºŒã€try-catch-finallyçš„ä½¿ç”¨
 * 
 * try{
 * 		//å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç 
 * }catch(å¼‚å¸¸ç±»å‹1 å˜é‡å1){
 * 		//å¤„ç†å¼‚å¸¸çš„æ–¹å¼1
 * }catch(å¼‚å¸¸ç±»å‹2 å˜é‡å2){
 * 		//å¤„ç†å¼‚å¸¸çš„æ–¹å¼2
 * }catch(å¼‚å¸¸ç±»å‹3 å˜é‡å3){
 * 		//å¤„ç†å¼‚å¸¸çš„æ–¹å¼3
 * }
 * ...
 * finally{
 * 		//ä¸€å®šä¼šæ‰§è¡Œçš„ä»£ç 
 * }
 * 
 * è¯´æ˜:
 * 1.finallyæ˜¯å¯é€‰çš„ã€‚
 * 2.ä½¿ç”¨tryå°†å¯èƒ½å‡ºç°å¼‚å¸¸ä»£ç åŒ…è£…èµ·æ¥ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‡ºç°å¼‚å¸¸ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”å¼‚å¸¸ç±»çš„å¯¹è±¡ï¼Œæ ¹æ®æ­¤å¯¹è±¡
 *   çš„ç±»å‹ï¼Œå»catchä¸­è¿›è¡ŒåŒ¹é…ã€‚
 * 3.ä¸€æ—¦tryä¸­çš„å¼‚å¸¸å¯¹è±¡åŒ¹é…åˆ°æŸä¸€ä¸ªcatchæ—¶ï¼Œå°±è¿›å…¥catchä¸­è¿›è¡Œå¼‚å¸¸çš„å¤„ç†ã€‚ä¸€æ—¦å¤„ç†å®Œæˆï¼Œå°±è·³å‡ºå½“å‰çš„
 *   try-catchç»“æ„ï¼ˆåœ¨æ²¡æœ‰å†™finallyçš„æƒ…å†µï¼‰ã€‚ç»§ç»­æ‰§è¡Œå…¶åçš„ä»£ç ã€‚
 * 4.catchä¸­çš„å¼‚å¸¸ç±»å‹å¦‚æœæ²¡æœ‰å­çˆ¶ç±»å…³ç³»ï¼Œåˆ™è°å£°æ˜åœ¨ä¸Šï¼Œè°å£°æ˜åœ¨ä¸‹æ— æ‰€è°“ã€‚
 *   catchä¸­çš„å¼‚å¸¸ç±»å‹å¦‚æœæ»¡è¶³å­çˆ¶ç±»å…³ç³»ï¼Œåˆ™è¦æ±‚å­ç±»ä¸€å®šå£°æ˜åœ¨çˆ¶ç±»çš„ä¸Šé¢ã€‚å¦åˆ™ï¼ŒæŠ¥é”™
 * 5.å¸¸ç”¨çš„å¼‚å¸¸å¯¹è±¡å¤„ç†çš„æ–¹å¼ï¼š â‘  String  getMessage()    â‘¡ printStackTrace()
 * 6.åœ¨tryç»“æ„ä¸­å£°æ˜çš„å˜é‡ï¼Œå†å‡ºäº†tryç»“æ„ä»¥åï¼Œå°±ä¸èƒ½å†è¢«è°ƒç”¨,ä¾‹65è¡Œ:System.out.println(num);
 * 7.try-catch-finallyç»“æ„å¯ä»¥åµŒå¥—  
 * 
 * ä½“ä¼š1ï¼šä½¿ç”¨try-catch-finallyå¤„ç†ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œæ˜¯å¾—ç¨‹åºåœ¨ç¼–è¯‘æ—¶å°±ä¸å†æŠ¥é”™ï¼Œä½†æ˜¯è¿è¡Œæ—¶ä»å¯èƒ½æŠ¥é”™ã€‚
 *     ç›¸å½“äºæˆ‘ä»¬ä½¿ç”¨try-catch-finallyå°†ä¸€ä¸ªç¼–è¯‘æ—¶å¯èƒ½å‡ºç°çš„å¼‚å¸¸ï¼Œå»¶è¿Ÿåˆ°è¿è¡Œæ—¶å‡ºç°ã€‚
 *   
 * ä½“ä¼š2ï¼šå¼€å‘ä¸­ï¼Œç”±äºè¿è¡Œæ—¶å¼‚å¸¸æ¯”è¾ƒå¸¸è§ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸å°±ä¸é’ˆå¯¹è¿è¡Œæ—¶å¼‚å¸¸ç¼–å†™try-catch-finallyäº†ã€‚
 *      é’ˆå¯¹äºç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œæˆ‘ä»¬è¯´ä¸€å®šè¦è€ƒè™‘å¼‚å¸¸çš„å¤„ç†ã€‚
 */
public class ExceptionTest1 { 

	@Test
	public void test2(){ 
		try{ 
			File file = new File("hello.txt");
			FileInputStream fis = new FileInputStream(file);
		
			int data = fis.read();
			while(data != -1){ 
				System.out.print((char)data);
				data = fis.read();
			}
		
			fis.close();
		}catch(FileNotFoundException e){ 
			e.printStackTrace();
		}catch(IOException e){ 
			e.printStackTrace();
		}
	}

	@Test
	public void test1(){ 
	
		String str = "123";
		str = "abc";
		try{ 
			int num = Integer.parseInt(str);
		
			System.out.println("hello-----1");
		}catch(NumberFormatException e){ 
//			System.out.println("å‡ºç°æ•°å€¼è½¬æ¢å¼‚å¸¸äº†ï¼Œä¸è¦ç€æ€¥....");
			//String getMessage():
//			System.out.println(e.getMessage());
			//printStackTrace():
			e.printStackTrace();
		}catch(NullPointerException e){ 
			System.out.println("å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸äº†ï¼Œä¸è¦ç€æ€¥....");
		}catch(Exception e){ 
			System.out.println("å‡ºç°å¼‚å¸¸äº†ï¼Œä¸è¦ç€æ€¥....");
		}
//		System.out.println(num);
	
		System.out.println("hello----2");
	}
}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697
```

## 3.1ã€finallyçš„ä½¿ç”¨

```java
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;

import org.junit.Test;

/*
 * try-catch-finallyä¸­finallyçš„ä½¿ç”¨ï¼š
 * 
 * 1.finallyæ˜¯å¯é€‰çš„ã€‚
 * 2.finallyä¸­å£°æ˜çš„æ˜¯ä¸€å®šä¼šè¢«æ‰§è¡Œçš„ä»£ç ã€‚å³ä½¿catchä¸­åˆå‡ºç°å¼‚å¸¸äº†ï¼Œtryä¸­æœ‰returnè¯­å¥ï¼Œcatchä¸­æœ‰
 *   returnè¯­å¥ç­‰æƒ…å†µã€‚
 * 3.åƒæ•°æ®åº“è¿æ¥ã€è¾“å…¥è¾“å‡ºæµã€ç½‘ç»œç¼–ç¨‹Socketç­‰èµ„æºï¼ŒJVMæ˜¯ä¸èƒ½è‡ªåŠ¨çš„å›æ”¶çš„ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±æ‰‹åŠ¨çš„è¿›è¡Œèµ„æºçš„
 *   é‡Šæ”¾ã€‚æ­¤æ—¶çš„èµ„æºé‡Šæ”¾ï¼Œå°±éœ€è¦å£°æ˜åœ¨finallyä¸­ã€‚
 * 
 */
public class FinallyTest { 

	@Test
	public void test2() { 
		FileInputStream fis = null;
		try { 
			File file = new File("hello1.txt");//æ–‡ä»¶å¯èƒ½ä¸å­˜åœ¨ï¼Œè€Œå‡ºç°å¼‚å¸¸
			fis = new FileInputStream(file);

			int data = fis.read();
			while (data != -1) { 
				System.out.print((char) data);
				data = fis.read();
			}

		} catch (FileNotFoundException e) { 
			e.printStackTrace();
		} catch (IOException e) { 
			e.printStackTrace();
		} finally { 
			try { 
				if (fis != null)
					fis.close();
			} catch (IOException e) { 
				e.printStackTrace();
			}
		}
	}

	@Test
	public void testMethod() { 
		int num = method();
		System.out.println(num);
	}

	public int method() { 

		try { 
			int[] arr = new int[10];
			System.out.println(arr[10]);
			return 1;
		} catch (ArrayIndexOutOfBoundsException e) { 
			e.printStackTrace();
			return 2;
		} finally { 
			System.out.println("æˆ‘ä¸€å®šä¼šè¢«æ‰§è¡Œ");
			return 3;
		}
	}

	@Test
	public void test1() { 
		try { 
			int a = 10;
			int b = 0;
			System.out.println(a / b);
		} catch (ArithmeticException e) { 
			// e.printStackTrace();

			int[] arr = new int[10];
			System.out.println(arr[10]);

		} catch (Exception e) { 
			e.printStackTrace();
		}
		// System.out.println("æˆ‘å¥½æ…¢å‘€~~~");
		finally { 
			System.out.println("æˆ‘å¥½æ…¢å‘€~~~");
		}
	}
}
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788
```

## 04ã€å¼‚å¸¸å¤„ç†æœºåˆ¶äºŒï¼šthrows

* å£°æ˜æŠ›å‡ºå¼‚å¸¸æ˜¯Javaä¸­å¤„ç†å¼‚å¸¸çš„ç¬¬äºŒç§æ–¹å¼

  * å¦‚æœä¸€ä¸ªæ–¹æ³•(ä¸­çš„è¯­å¥æ‰§è¡Œæ—¶)å¯èƒ½ç”ŸæˆæŸç§å¼‚å¸¸ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ç¡®å®šå¦‚ä½•å¤„ç†è¿™ç§å¼‚å¸¸ï¼Œåˆ™æ­¤æ–¹æ³•åº”æ˜¾ç¤ºåœ°å£°æ˜æŠ›å‡ºå¼‚å¸¸ï¼Œè¡¨æ˜è¯¥æ–¹æ³•å°†ä¸å¯¹è¿™äº›å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œè€Œç”±è¯¥æ–¹æ³•çš„è°ƒç”¨è€…è´Ÿè´£å¤„ç†ã€‚
* åœ¨æ–¹æ³•å£°æ˜ä¸­ç”¨throwsè¯­å¥å¯ä»¥å£°æ˜æŠ›å‡ºå¼‚å¸¸çš„åˆ—è¡¨ï¼Œthrowsåé¢çš„å¼‚å¸¸ç±»å‹å¯ä»¥æ˜¯æ–¹æ³•ä¸­äº§ç”Ÿçš„å¼‚å¸¸ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å®ƒçš„çˆ¶ç±»ã€‚

```java
/*
 * å¼‚å¸¸å¤„ç†çš„æ–¹å¼äºŒï¼šthrows + å¼‚å¸¸ç±»å‹
 * 
 * 1. "throws + å¼‚å¸¸ç±»å‹"å†™åœ¨æ–¹æ³•çš„å£°æ˜å¤„ã€‚æŒ‡æ˜æ­¤æ–¹æ³•æ‰§è¡Œæ—¶ï¼Œå¯èƒ½ä¼šæŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ã€‚
 *     ä¸€æ—¦å½“æ–¹æ³•ä½“æ‰§è¡Œæ—¶ï¼Œå‡ºç°å¼‚å¸¸ï¼Œä»ä¼šåœ¨å¼‚å¸¸ä»£ç å¤„ç”Ÿæˆä¸€ä¸ªå¼‚å¸¸ç±»çš„å¯¹è±¡ï¼Œæ­¤å¯¹è±¡æ»¡è¶³throwsåå¼‚å¸¸
 *     ç±»å‹æ—¶ï¼Œå°±ä¼šè¢«æŠ›å‡ºã€‚å¼‚å¸¸ä»£ç åç»­çš„ä»£ç ï¼Œå°±ä¸å†æ‰§è¡Œï¼
 *
 *     å…³äºå¼‚å¸¸å¯¹è±¡çš„äº§ç”Ÿ:â‘  ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„å¼‚å¸¸å¯¹è±¡
 * 					â‘¡ æ‰‹åŠ¨ç”Ÿæˆä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œå¹¶æŠ›å‡º(throw)
 *   
 * 2. ä½“ä¼šï¼štry-catch-finally:çœŸæ­£çš„å°†å¼‚å¸¸ç»™å¤„ç†æ‰äº†ã€‚
 *        throwsçš„æ–¹å¼åªæ˜¯å°†å¼‚å¸¸æŠ›ç»™äº†æ–¹æ³•çš„è°ƒç”¨è€…ã€‚  å¹¶æ²¡æœ‰çœŸæ­£å°†å¼‚å¸¸å¤„ç†æ‰ã€‚  
 * 
 */
public class ExceptionTest2 { 

	public static void main(String[] args){ 
		try { 
			method2();
		} catch (IOException e) { 
			e.printStackTrace();
		}
	
		method3();
	}

	public static void method3(){ 
		try { 
			method2();
		} catch (IOException e) { 
			e.printStackTrace();
		}
	}

	public static void method2() throws IOException{ 
		method1();
	}


	public static void method1() throws FileNotFoundException,IOException{ 
		File file = new File("hello1.txt");
		FileInputStream fis = new FileInputStream(file);
	
		int data = fis.read();
		while(data != -1){ 
			System.out.print((char)data);
			data = fis.read();
		}
	
		fis.close();
	
		System.out.println("hahaha!");
	}
}
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354
```

![](assets/a349a3eb15bb86490d6c86c2b2a667ac-20220603152642-67j7ao6.png)

### 4.1ã€é‡å†™æ–¹æ³•å£°æ˜æŠ›å‡ºå¼‚å¸¸çš„åŸåˆ™

```java
import java.io.FileNotFoundException;
import java.io.IOException;

/*
 * æ–¹æ³•é‡å†™çš„è§„åˆ™ä¹‹ä¸€ï¼š
 * å­ç±»é‡å†™çš„æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ä¸å¤§äºçˆ¶ç±»è¢«é‡å†™çš„æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹
 * 
 */
public class OverrideTest { 

	public static void main(String[] args) { 
		OverrideTest test = new OverrideTest();
		test.display(new SubClass());
	}

	public void display(SuperClass s){ 
		try { 
			s.method();
		} catch (IOException e) { 
			e.printStackTrace();
		}
	}

}
class SuperClass{ 

	public void method() throws IOException{ 
	
	}
}
class SubClass extends SuperClass{ 
	public void method()throws FileNotFoundException{ 
	
	}
}

123456789101112131415161718192021222324252627282930313233343536
```

```java
/* 3. å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©ä½¿ç”¨try-catch-finally è¿˜æ˜¯ä½¿ç”¨throwsï¼Ÿ
 *   3.1 å¦‚æœçˆ¶ç±»ä¸­è¢«é‡å†™çš„æ–¹æ³•æ²¡æœ‰throwsæ–¹å¼å¤„ç†å¼‚å¸¸ï¼Œåˆ™å­ç±»é‡å†™çš„æ–¹æ³•ä¹Ÿä¸èƒ½ä½¿ç”¨throwsï¼Œæ„å‘³ç€å¦‚æœ
 *       å­ç±»é‡å†™çš„æ–¹æ³•ä¸­æœ‰å¼‚å¸¸ï¼Œå¿…é¡»ä½¿ç”¨try-catch-finallyæ–¹å¼å¤„ç†ã€‚
 *   3.2 æ‰§è¡Œçš„æ–¹æ³•aä¸­ï¼Œå…ˆååˆè°ƒç”¨äº†å¦å¤–çš„å‡ ä¸ªæ–¹æ³•ï¼Œè¿™å‡ ä¸ªæ–¹æ³•æ˜¯é€’è¿›å…³ç³»æ‰§è¡Œçš„ã€‚æˆ‘ä»¬å»ºè®®è¿™å‡ ä¸ªæ–¹æ³•ä½¿ç”¨throws
 *       çš„æ–¹å¼è¿›è¡Œå¤„ç†ã€‚è€Œæ‰§è¡Œçš„æ–¹æ³•aå¯ä»¥è€ƒè™‘ä½¿ç”¨try-catch-finallyæ–¹å¼è¿›è¡Œå¤„ç†ã€‚
 */
123456
```

## 05ã€æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸

> Javaå¼‚å¸¸ç±»å¯¹è±¡é™¤åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸æ—¶ç”±ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå¹¶æŠ›å‡ºï¼Œä¹Ÿå¯æ ¹æ®éœ€è¦ä½¿ç”¨äººå·¥åˆ›å»ºå¹¶æŠ›å‡ºã€‚
>

* é¦–å…ˆè¦ç”Ÿæˆå¼‚å¸¸ç±»å¯¹è±¡ï¼Œç„¶åé€šè¿‡throwè¯­å¥å®ç°æŠ›å‡ºæ“ä½œ(æäº¤ç»™Javaè¿è¡Œç¯å¢ƒ)
* å¯ä»¥æŠ›å‡ºçš„å¼‚å¸¸å¿…é¡»æ˜¯Throwableæˆ–å…¶å­ç±»çš„å®ä¾‹ã€‚ä¸‹é¢çš„è¯­å¥åœ¨ç¼–è¯‘æ—¶å°†ä¼šäº§ç”Ÿè¯­æ³•é”™è¯¯ï¼š

```java
public class StudentTest { 
	public static void main(String[] args) { 
		try { 
			Student s = new Student();
//		s.regist(1001);
			s.regist(-1001);
			System.out.println(s);
		} catch (Exception e) { 
//			e.printStackTrace();
			System.out.println(e.getMessage());
		}
	}
}
class Student{ 
	private int id;

	public void regist(int id) throws Exception{ 
		if(id > 0){ 
			this.id = id;
		}else{ 
//			System.out.println("æ‚¨è¾“å…¥çš„æ•°æ®éæ³•ï¼");
			//æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸
//			throw new RuntimeException("æ‚¨è¾“å…¥çš„æ•°æ®éæ³•ï¼");
			throw new Exception("æ‚¨è¾“å…¥çš„æ•°æ®éæ³•ï¼");
		
		}
	}

	@Override
	public String toString() { 
		return "Student [id=" + id + "]";
	}

}
12345678910111213141516171819202122232425262728293031323334
```

## 06ã€ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»

* ä¸€èˆ¬åœ°ï¼Œç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»éƒ½æ˜¯RuntimeExceptionçš„å­ç±»ã€‚
* è‡ªå®šä¹‰å¼‚å¸¸ç±»é€šå¸¸éœ€è¦ç¼–å†™å‡ ä¸ªé‡è½½çš„æ„é€ å™¨ã€‚
* è‡ªå®šä¹‰å¼‚å¸¸éœ€è¦æä¾›serialVersionUID
* è‡ªå®šä¹‰çš„å¼‚å¸¸é€šè¿‡throwæŠ›å‡ºã€‚
* è‡ªå®šä¹‰å¼‚å¸¸æœ€é‡è¦çš„æ˜¯å¼‚å¸¸ç±»çš„åå­—ï¼Œå½“å¼‚å¸¸å‡ºç°æ—¶ï¼Œå¯ä»¥æ ¹æ®åå­—åˆ¤æ–­å¼‚å¸¸ç±»å‹ã€‚

```java
/*
 * å¦‚ä½•è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Ÿ
 * 1.ç»§æ‰¿äºç°æœ‰çš„å¼‚å¸¸ç»“æ„ï¼šRuntimeException ã€Exception
 * 2.æä¾›å…¨å±€å¸¸é‡ï¼šserialVersionUID
 * 3.æä¾›é‡è½½çš„æ„é€ å™¨
 * 
 */
public class MyException extends RuntimeException{ 
	static final long serialVersionUID = -7034897193246939L;

	public MyException(){ 
	
	}

	public MyException(String msg){ 
		super(msg);
	}
}
123456789101112131415161718
```

![](assets/388532badc2034628c974ab4503db151-20220603152642-pxj7211.png)

## 6.1ã€ç»ƒä¹ 

> ç»ƒä¹ 1â€”â€”ReturnExceptionDemoç±»
>

```java
public class ReturnExceptionDemo { 
	static void methodA() { 
		try { 
			System.out.println("è¿›å…¥æ–¹æ³•A");
			throw new RuntimeException("åˆ¶é€ å¼‚å¸¸");
		} finally { 
			System.out.println("ç”¨Aæ–¹æ³•çš„finally");
		}
	}

	static void methodB() { 
		try { 
			System.out.println("è¿›å…¥æ–¹æ³•B");
			return;
		} finally { 
			System.out.println("è°ƒç”¨Bæ–¹æ³•çš„finally");
		}
	}

	public static void main(String[] args) { 
		try { 
			methodA();
		} catch (Exception e) { 
			System.out.println(e.getMessage());
		}
		
		methodB();
	}
}
1234567891011121314151617181920212223242526272829
```

> ç»ƒä¹ 2
>

```java
/*
 * ç¼–å†™åº”ç”¨ç¨‹åºEcmDef.javaï¼Œæ¥æ”¶å‘½ä»¤è¡Œçš„ä¸¤ä¸ªå‚æ•°ï¼Œ
 * 		è¦æ±‚ä¸èƒ½è¾“å…¥è´Ÿæ•°ï¼Œè®¡ç®—ä¸¤æ•°ç›¸é™¤ã€‚
 * 		å¯¹ æ•° æ® ç±» å‹ ä¸ ä¸€ è‡´(NumberFormatException)ã€
 * 		ç¼º å°‘ å‘½ ä»¤ è¡Œ å‚ æ•°(ArrayIndexOutOfBoundsExceptionã€
 * 		é™¤0(ArithmeticException)åŠè¾“å…¥è´Ÿæ•°(EcDefè‡ªå®šä¹‰çš„å¼‚å¸¸)è¿›è¡Œå¼‚å¸¸å¤„ç†ã€‚ï¬
 *
 * æç¤ºï¼š
 * 		(1)åœ¨ä¸»ç±»(EcmDef)ä¸­å®šä¹‰å¼‚å¸¸æ–¹æ³•(ecm)å®Œæˆä¸¤æ•°ç›¸é™¤åŠŸèƒ½ã€‚
 * 		(2)åœ¨main()æ–¹æ³•ä¸­ä½¿ç”¨å¼‚å¸¸å¤„ç†è¯­å¥è¿›è¡Œå¼‚å¸¸å¤„ç†ã€‚
 * 		(3)åœ¨ç¨‹åºä¸­ï¼Œè‡ªå®šä¹‰å¯¹åº”è¾“å…¥è´Ÿæ•°çš„å¼‚å¸¸ç±»(EcDef)ã€‚
 * 		(4)è¿è¡Œæ—¶æ¥å—å‚æ•°java EcmDef2010//args[0]=â€œ20â€args[1]=â€œ10â€
 * 		(5)Intergerç±»çš„staticæ–¹æ³•parseInt(Strings)å°†sè½¬æ¢æˆå¯¹åº”çš„intå€¼ã€‚
 * 		å¦‚ï¼šint a=Interger.parseInt(â€œ314â€);//a=314;
 */
public class EcmDef { 
	public static void main(String[] args) { 
		try { 
			int i = Integer.parseInt(args[0]);
			int j = Integer.parseInt(args[0]);
		
			int result = ecm(i,j);
		
			System.out.println(result);
		} catch (NumberFormatException e) { 
			System.out.println("æ•°æ®ç±»å‹ä¸ä¸€è‡´");
		}catch (ArrayIndexOutOfBoundsException e){ 
			System.out.println("ç¼ºå°‘å‘½ä»¤è¡Œå‚æ•°");
		}catch (ArithmeticException e){ 
			System.out.println("é™¤0");
		}catch (EcDef e) { 
			System.out.println(e.getMessage());
		}
	}

	public static int ecm(int i, int j) throws EcDef{ 
		if(i < 0 || j < 0){ 
			throw new EcDef("åˆ†å­æˆ–åˆ†æ¯ä¸ºè´Ÿæ•°äº†ï¼");
		}
		return i / j;
	}
}
123456789101112131415161718192021222324252627282930313233343536373839404142
```

> ç»ƒä¹ 2çš„è‡ªå®šä¹‰å¼‚å¸¸ç±»â€”â€”EcDef
>

```java
//è‡ªå®šä¹‰å¼‚å¸¸ç±»
public class EcDef extends Exception { 

	static final long serialVersionUID = -33875164229948L;

	public EcDef() { 
	
	}

	public EcDef(String msg) { 
		super(msg);
	}
}
12345678910111213
```

## 07ã€å¼‚å¸¸æ€»ç»“

> æ€»ç»“ï¼šå¼‚å¸¸å¤„ç†5ä¸ªå…³é”®å­—
>

![](assets/4614aa28f89b84571c65636790a8f087-20220603152642-w1x3dxn.png)

> ä½œè€…åšç¬”è®°ä¸å®¹æ˜“ï¼Œè¯·è¯„ä¸ªåˆ†å§ï¼
>

* 1ã€å¦‚æœè§‰å¾—æ–‡ç« å†™è¡Œä¸é”™å°±ç‚¹ä¸ª  **èµ** ã€‚âœŒ
* 2ã€å¦‚æœè§‰å¾—å†™å¾—å¥½å°±  **ä¸€é”®ä¸‰è¿** ï¼âœŒâœŒâœŒ
* 3ã€å¦‚æœæ–‡ç« å¯¹ä½ å¾ˆæœ‰å¸®åŠ©ï¼Œè¯·  **æ‰“èµ** ã€‚ ğŸ’ƒğŸ’ƒğŸ’ƒğŸ’ƒğŸ’ƒ
